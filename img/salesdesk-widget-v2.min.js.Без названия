salesdesk_widget_load_script={};salesdesk_widget_load_script.options=salesdesk_widget_load_script.options||{};salesdesk_widget_load_script.options.debugMode=!1;var startDateTime=new Date();var salesdesk_widget_init_skype=!1;if(typeof has_r_chat==='undefined'){var has_r_chat=!1}
var mobile_load_r_chat_first_time=!0;var first_add_message_listener=!0;var salesdesk_widget_timeout_list={show_default_btn_pulse_time:10000};var is_promotion_popup_showed=!1;if(typeof script_list=='undefined'){var script_list=new Array()}
if((navigator.userAgent.indexOf("MSIE")!=-1)||(!!document.documentMode==!0)){var currentScript=document.getElementById('r-widget-script');if(typeof(currentScript)=='undefined'||currentScript==null){currentScript=document.getElementById('salesdesk-widget-script')}}else{var currentScript=document.currentScript}
script_list.push(currentScript.src.split("business_id=")[1])
salesdesk_widget_load_script.isFirstLoad=function(namesp){var isFirst=namesp.firstLoad===undefined;namesp.firstLoad=!1;if(!isFirst){console.warn("R-Widget with "+script_list[0]+" cannot run.")}else{console.log("R-Widget with "+script_list[0]+" is running.")}
script_list.shift();return isFirst};var jQuerySalesDesk;var salesdesk_widget_options;var salesdesk_widget_server_url;var salesdesk_widget_url;var salesdesk_retarget_url;var pe_url;var r_dynamic_js_url;var salesdesk_widget_server_name;var salesdesk_widget_button_default_position_bottom=15;var salesdesk_widget_form_file_size=(1024*1024*5);var salesdesk_widget_form_file_extension=[".pdf",".doc",".docx",".xls",".xlsx",".jpg",".jpeg",".png",".gif",".bmp",".zip",".rar"];var salesdesk_skip_close_contact_form=!1;var salesdesk_widget_landing_url="https://www.readyplanet.com/16973461/salesdesk-widget?utm_source=powered_by";var salesdesk_widget_client_params={"gclid":"","website_url":"","referrer_url":"","geolocation":{},"show_widget":"","fbclid":"","utm_source":"","utm_medium":"","utm_campaign":""};var privacy_policy_loading={"th":"กำลังโหลด...","en":"Loading...","vi":"Loading..."};var salsesdesk_channel_timeout_error_message={"th":"ขณะนี้อยู่นอกช่วงเวลาทำการสำหรับช่องทางการติดต่อนี้ กรุณาติดต่อเราในช่องทางอื่น","en":"Sorry. This channel is not available right now. Please contact us via another channel.","vi":"Hiện tại đã ngoài giờ làm việc, vui lòng liên hệ với chúng tôi ở các kênh liên hệ khác."};var sdw_promotion_popup_invite_text={"th":"Free Promotion Popup for your website.","en":"Free Promotion Popup for your website.","vi":"Free Promotion Popup for your website."};var salesdesk_widget_default={call_back:{name:'',phone:'',subject:'',}};var auto_cookie_consent_banner_text={"en":"This site uses cookies. By using the site you are giving your consent for us to set cookies. See our <a onclick='showCookiePolicy();' href='javascript:void(0);'><u>Cookie Policy</u></a>.","th":"เว็บไซต์นี้มีการใช้คุกกี้ การใช้เว็บไซต์นี้ต่อไปถือว่าคุณยินยอมให้มีการใช้งานคุกกี้ ดูข้อมูล <a onclick='showCookiePolicy();' href='javascript:void(0);'><u>นโยบายคุกกี้</u></a> ของเรา","vi":"Website này sử dụng cookie để cung cấp cho bạn trải nghiệm tốt nhất. Việc tiếp tục sử dụng website này đồng nghĩa với việc bạn hài lòng với nó. xem <a onclick='showCookiePolicy();' href='javascript:void(0);'><u>điều khoản Cookie</u></a>."};var auto_cookie_consent_banner_button_text={"en":"Close","th":"ปิด","vi":"Đóng"};var auto_cookie_consent_banner_text_bg_color='rgb(59, 64, 69)';var auto_privacy_policy_consent_message={"en":"By submitting, you accept the<br>","th":"เมื่อส่งข้อมูลถือว่าท่านยอมรับ<br>","vi":"Khi cung cấp thông tin đồng nghĩa với việc bạn đồng ý<br>"};var auto_privacy_policy_consent_name_link={"en":"Privacy Policy","th":"นโยบายความเป็นส่วนตัว","vi":"chính sách bảo mật"};var default_cookie_consent_banner_text_bg_color='rgb(59, 64, 69)';var default_cookie_consent_banner_text_color='rgb(255, 255, 255)';var default_cookie_consent_banner_button_text_color='rgb(255, 255, 255)';var default_cookie_consent_banner_button_bg_color='rgba(0,0,0,0.5)';var auto_cookie_consent_banner_text_bg_color='rgb(59, 64, 69)';var salesdesk_widget_current_channel="";var default_widget_bottom;var default_callback_bottom;var salesdesk_widget_options={"version":"3.14.1","business":{"business_id":"","phone_number":"","line_id":"","facebook_id":"","facebook_name":"","facebook_url":"","whatsapp_id":"","skype_id":"","zalo_oaid":"","google_map":{"key":"AIzaSyCm-C9XFNgG0cN5IHAlrRzFjDzSpfm3wyg","zoom":17,"lat":"13.779651620915255","lng":"100.56962013244629"},"fb_pixel":{"code":"368172984045134","custom_event":{"all_conversions":"AllConversions","smart_conversion":"SmartConversion","contact_form":"ContactForm","click_to_call":"ClickToCall","line":"Line","facebook":"Facebook","page_view":"WidgetLoad","widget_view":"WidgetClick","google_map":"GoogleMap","skype":"Skype","whatsapp":"WhatsApp","callback":"CallBack","zalo":"Zalo"}},"use_tracking":["contact_form","click_to_call","line","facebook"],"use_attach_file":!1,"use_geolocation":!1,"use_button_pulse_effect":!1,"use_push_notification":!1,"use_contact_code":!1,"use_facebook_retargeting":!1,"use_cookie_consent_banner":!1,"use_custom_cookie_consent_banner":!1,"custom_cookie_consent_banner_text":'',"custom_cookie_consent_banner_text_color":'rgb(255, 255, 255)',"custom_cookie_consent_banner_text_bg_color":'rgb(59, 64, 69)',"custom_cookie_consent_banner_button_text":'',"custom_cookie_consent_banner_button_text_color":'rgb(255, 255, 255)',"custom_cookie_consent_banner_button_bg_color":'rgba(0,0,0,0.5)',"use_retargeting":!1,"use_r_chat":!1,"show_widget":!0,"use_contact_form_privacy_policy_consent":!0,"use_custom_contact_form_privacy_policy_consent":!1,"use_callback_privacy_policy_consent":!0,"use_custom_callback_privacy_policy_consent":!1},"theme":"style1","language":"TH","position":{"name":"bottom-right","custom":{"top":"0","left":"0","right":"15","bottom":"15"}},"button_menu":{"display_tooltip":"always","display_text":"ติดต่อเรา","background_color":"#2196F3"},"external_link":{"line":"https://line.me/ti/p/~","line_ad":"https://line.me/R/ti/p/","facebook":"https://m.me/","whatsapp_mobile":"https://api.whatsapp.com/send?phone=","whatsapp_desktop":"https://web.whatsapp.com/send?phone=","zalo_chat":"https://sp.zalo.me/plugins/sdk.js","fbevents":"https://connect.facebook.net/en_US/fbevents.js","pe":{"dev":"http://api-pe-staging.readyplanet.com/api","staging":"https://api-pe-staging.readyplanet.com/api","prod":"https://api-pe.readyplanet.com/api"},"r_dynamic_js":{"dev":"https://api-da-dev.readyplanet.com/js/rdynamic-main.js","staging":"https://api-da-staging.readyplanet.com/js/rdynamic-main.min.js","prod":"https://api-da.readyplanet.com/js/rdynamic-main.min.js",}},"promotion_popup":"","new_user":!0,"is_preview":!1,"timeout":"600"};var salesdesk_widget_form_error_message={"th":{"required":"ต้องระบุข้อมูลนี้","phone_number":"เบอร์โทรไม่ถูกต้อง","phone_extension":"เบอร์ต่อไม่ถูกต้อง","email":"อีเมลไม่ถูกต้อง","file_type":"รองรับไฟล์นามสกุล "+salesdesk_widget_form_file_extension.join(", ")+" เท่านั้น","file_size":"ขนาดของไฟล์ต้องไม่เกิน 5MB.",},"en":{"required":"This field is required.","phone_number":"Phone number is invalid.","phone_extension":"ext is invalid.","email":"Email is invalid.","file_type":"Only file type "+salesdesk_widget_form_file_extension.join(", ")+" is allowed","file_size":"File size must be less than 5MB."},"vi":{"required":"Bạn chưa điền mục này","phone_number":"Vui lòng nhập số điện thoại hợp lệ","phone_extension":"Vui lòng nhập số điện thoại hợp lệ","email":"Vui lòng nhập Email hợp lệ","file_type":"Chỉ loại tệp "+salesdesk_widget_form_file_extension.join(", ")+" được cho phép","file_size":"Kích thước tối đa là 5MB."}};var salesdesk_widget_form_label={"en":{"first_name":"Name","source_data":"Source","last_name":"Last name","title_of_callback":"Callback","email":"Email","phone":"Phone","phone_ext":"ext","note":"Your message","button_submit":"Submit","button_close":"Close","thank_you":"Thank you for your information.\nWe will contact you as soon as possible.","attach_file":"Attach a file","attach_file_info":"","button_select_file":"Browse file","message_saving":"Saving...","call_back_subject":"Subject","call_back_list":['Contact sales','After sales service','Other'],"widget":{"contact_form":{"form_header":"Contact Form","form_description":"Please leave a message and we will contact you back.","button_action_name":"Contact Form"},"click_to_call":{"form_header":"Call Us","form_description":"Dial this number.","button_action_name":"Phone Call","button_call":"Call"},"line":{"form_header":"LINE Chat","form_description":"Scan this QR Code to chat with us.","button_action_name":"LINE Chat","button_add_friend":"Chat"},"facebook":{"form_header":"Chat via Facebook Messenger","form_description":"Scan this QR Code to chat with us.","button_action_name":"Facebook Messenger","button_open_messenger":"Chat"},"google_map":{"form_header":"See Map","button_action_name":"See Map","form_description":""},"whatsapp":{"form_header":"","button_action_name":"Chat via WhatsApp","form_description":"","button_open_chat":"Chat"},"skype":{"form_header":"","button_action_name":"Chat via Skype","form_description":"","button_open_chat":"Chat"},"r_chat":{"form_header":"","button_action_name":"Chat with Us","form_description":""},"callback":{"form_header":"Call Me Back","subject_please_select":'Please select',"button_submit_name":"Submit","thank_you_message":"Thank you for your information.\nWe will contact you as soon as possible."},"push_notification":{"form_header":"News and Promotions","form_description":"Subscribe for news and promotions","button_later":"Later","button_accept":"Accept"},"zalo":{"form_header":"Chat via Zalo","button_action_name":"Chat via Zalo","form_description":"","button_open_chat":"Chat"},"contact_code":{"form_header":"Contact Code","button_action_name":"OK","form_description":"Inform our staff with this code to get faster service"},"cookie_consent_banner":{"form_description":"We use Cookies to ensure that we give you the best experience on our website. By continuing to use this site you are consenting to the use of Cookies.","button_accept":"Accept","button_close":"Close"}}},"th":{"first_name":"ชื่อ","last_name":"นามสกุล","source_data":"แหล่งที่มา","title_of_callback":"ฝากเบอร์ติดต่อกลับ","fl_name":"ชื่อ-นามสกุล","email":"อีเมล","phone":"เบอร์โทรศัพท์","phone_ext":"เบอร์ต่อ","note":"สอบถามเกี่ยวกับ","button_submit":"ส่งข้อมูล","button_close":"ปิด","thank_you":"ขอบคุณสำหรับข้อมูลของท่าน\nเราจะติดต่อกลับอย่างเร็วที่สุด","attach_file":"ไฟล์แนบ","attach_file_info":"","button_select_file":"เลือกไฟล์","message_saving":"กำลังบันทึกข้อมูล...","call_back_subject":"หัวข้อ","call_back_list":['ติดต่อฝ่ายขาย','บริการหลังการขาย','อื่นๆ'],"widget":{"contact_form":{"form_header":"แบบฟอร์ม","form_description":"กรุณากรอกข้อมูลเพื่อให้เราติดต่อกลับ","button_action_name":"แบบฟอร์ม"},"click_to_call":{"form_header":"โทรศัพท์","form_description":"โทรหาเราที่เบอร์นี้","button_action_name":"โทรศัพท์","button_call":"โทร"},"line":{"form_header":"แชทผ่าน LINE","form_description":"สแกน QR Code เพื่อแชทกับเรา","button_action_name":"แชทผ่าน LINE","button_add_friend":"แชท"},"facebook":{"form_header":"แชทผ่าน Facebook","form_description":"สแกน QR Code เพื่อแชทกับเรา","button_action_name":"แชทผ่าน Facebook","button_open_messenger":"แชท"},"google_map":{"form_header":"ดูแผนที่","button_action_name":"ดูแผนที่","form_description":""},"whatsapp":{"form_header":"","button_action_name":"แชทผ่าน WhatsApp","form_description":"","button_open_chat":"แชท"},"skype":{"form_header":"","button_action_name":"แชทผ่าน Skype","form_description":"","button_open_chat":"แชท"},"r_chat":{"form_header":"","button_action_name":"แชทกับเรา","form_description":""},"callback":{"form_header":"ฝากเบอร์โทรกลับ","subject_please_select":'กรุณาเลือก',"button_submit_name":"ส่งข้อมูล","thank_you_message":"ขอบคุณสำหรับข้อมูลของท่าน\nเราจะติดต่อกลับอย่างเร็วที่สุด"},"push_notification":{"form_header":"ข่าวสารและโปรโมชั่น","form_description":"กดติดตามเพื่อรับข่าวสารและโปรโมชั่น","button_later":"ภายหลัง","button_accept":"ยอมรับ"},"zalo":{"form_header":"แชทผ่าน Zalo","button_action_name":"แชทผ่าน Zalo","form_description":"","button_open_chat":"แชท"},"contact_code":{"form_header":"รหัสติดต่อ","button_action_name":"OK","form_description":"แจ้งรหัสนี้กับเจ้าหน้าที่\nเพื่อความรวดเร็วในการบริการ"},"cookie_consent_banner":{"form_description":"เราใช้คุกกี้เพื่อให้แน่ใจว่าเราจะให้ประสบการณ์ที่ดีที่สุดกับคุณบนเว็บไซต์ของเรา การใช้เว็บไซต์นี้ต่อไปถือว่าคุณยินยอมให้มีการใช้งานคุกกี้","button_accept":"ยอมรับ","button_close":"ปิด"}}},"vi":{"first_name":"Tên","last_name":"Họ","source_data":"Nguồn","title_of_callback":"Gọi lại","email":"Email","phone":"Số điện thoại","phone_ext":"ext","note":"Tin nhắn của bạn","button_submit":"Đăng ký","button_close":"Đóng","thank_you":"Cám ơn bạn đã cung cấp thông tin. \ Chúng tôi sẽ liên hệ bạn sớm nhất có thể","attach_file":"Đính kèm tập tin","attach_file_info":"","button_select_file":"Chọn tập tin","message_saving":"Đang lưu...","call_back_subject":"Chủ đề","call_back_list":['Liên hệ nhân viên kinh doanh','Dịch vụ hậu mãi','Khác'],"widget":{"contact_form":{"form_header":"Mẫu liên hệ","form_description":"Vui lòng để lại lời nhắn. Chúng tôi sẽ liên hệ bạn.","button_action_name":"Mẫu liên hệ"},"click_to_call":{"form_header":"Gọi ngay","form_description":"Quay số này","button_action_name":"Gọi điện","button_call":"Gọi ngay"},"line":{"form_header":"LINE Chat","form_description":"Quét mã QR này để chat với chúng tôi","button_action_name":"LINE Chat","button_add_friend":"Chat"},"facebook":{"form_header":"Chat qua Facebook","form_description":"Quét mã QR này để chat với chúng tôi","button_action_name":"Nhắn tin Facebook","button_open_messenger":"Chat"},"google_map":{"form_header":"Bản đồ","button_action_name":"Xem bản đồ","form_description":""},"whatsapp":{"form_header":"","button_action_name":"Chat qua Whatsapp","form_description":"","button_open_chat":"Chat"},"skype":{"form_header":"","button_action_name":"Chat qua Skype","form_description":"","button_open_chat":"Chat"},"r_chat":{"form_header":"","button_action_name":"Trò chuyện với chúng tôi","form_description":""},"callback":{"form_header":"Gọi lại","subject_please_select":'Vui lòng chọn',"button_submit_name":"Gửi","thank_you_message":"Cám ơn bạn đã cung cấp thông tin. \nChúng tôi sẽ liên hệ bạn sớm nhất có thể."},"push_notification":{"form_header":"Tin tức và ưu đãi","form_description":"Theo dõi để nhận được thông báo mới và ưu dãi","button_later":"Để sau","button_accept":"Đồng ý"},"zalo":{"form_header":"Chat qua Zalo","button_action_name":"Chat qua Zalo","form_description":"","button_open_chat":"Chat"},"contact_code":{"form_header":"Mã liên hệ","button_action_name":"OK","form_description":"Liên hệ nhân viên của chúng tôi với mã code này để được hỗ trợ nhanh hơn"},"cookie_consent_banner":{"form_description":"Chúng tôi sử dụng Cookies để đảm bảo rằng chúng tôi cung cấp cho bạn trải nghiệm tốt nhất trên trang web của chúng tôi. Bằng cách tiếp tục sử dụng trang web này, bạn đồng ý với việc sử dụng Cookies.","button_accept":"Accept","button_close":"Close"}}},};var salesdesk_device={is_android:function(){return navigator.userAgent.match(/Android/i)},is_blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},is_iphone:function(){return navigator.userAgent.match(/iPhone/i)},is_ipad:function(){return navigator.userAgent.match(/iPad/i)},is_ipod:function(){return navigator.userAgent.match(/iPod/i)},is_ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},is_windows_phone:function(){return navigator.userAgent.match(/IEMobile/i)},is_mobile:function(){return(salesdesk_device.is_android()||salesdesk_device.is_blackberry()||salesdesk_device.is_ios()||salesdesk_device.is_windows_phone())}};var salesdesk_widget_timeout,salesdesk_widget_time_counter,salesdesk_widget_timeout_value=20000;var salesdesk_widget_time_counter_value=1;var google_crawler=!1;var botPattern="(googlebot\/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)";var re=new RegExp(botPattern,'i');var userAgent=navigator.userAgent;if(re.test(userAgent)){google_crawler=!0}
var salesdesk_widget_arguments=salesdeskParseQueryString();widget_server_url=document.getElementById('r-widget-script');if(typeof(widget_server_url)=='undefined'||widget_server_url==null){widget_server_url=document.getElementById('salesdesk-widget-script')}
var script_domain=widget_server_url.src.split("/widget/")[0];widget_server_url=script_domain;if(typeof(script_domain)=='undefined'||script_domain.indexOf("api-salesdesk")!==-1||script_domain.indexOf("api-rcrm")!==-1){script_domain=widget_server_url.split("/js/")[0];widget_server_url=script_domain.replace("api-salesdesk","rwidget");widget_server_url=widget_server_url.replace("api-rcrm","rwidget")}
salesdesk_widget_server_url=widget_server_url.replace("rwidget","api-salesdesk");r_chat_url=widget_server_url.replace("rwidget","home").replace("readyplanet","chatday").replace("com","co");salesdesk_widget_url=salesdesk_widget_server_url
salesdesk_retarget_url=salesdesk_widget_server_url.replace("salesdesk","da");salesdesk_widget_server_name=salesdeskGetServer(salesdesk_widget_server_url);if(salesdesk_widget_server_name=="production"){pe_url=salesdesk_widget_options.external_link.pe.prod;r_dynamic_js_url=salesdesk_widget_options.external_link.r_dynamic_js.prod}else if(salesdesk_widget_server_name=="staging"){pe_url=salesdesk_widget_options.external_link.pe.staging;r_dynamic_js_url=salesdesk_widget_options.external_link.r_dynamic_js.staging}else{pe_url=salesdesk_widget_options.external_link.pe.dev;r_dynamic_js_url=salesdesk_widget_options.external_link.r_dynamic_js.dev}
var check_jquery_version=0,check_jquery_version_1110=0,check_jquery_lessthan_version=161;var salesdesk_skip_load_by_gtm=!1;var salesdesk_analytics_params={};var isAlreadyCheckBusinessActive=!1;document.addEventListener("DOMContentLoaded",function(event){if(!isAlreadyCheckBusinessActive){initSalesDeskWidget()}
initListener();salesdesk_skip_load_by_gtm=!0});salesdesk_analytics_params.analytics_endpoint_url="https://www.google-analytics.com/collect";salesdesk_analytics_params.analytics_version="1";if(salesdesk_widget_server_name=="production"){salesdesk_analytics_params.analytics_ua="UA-481851-20";salesdesk_analytics_params.analytic_custom_dimension_business_id="dt1";salesdesk_analytics_params.analytic_custom_dimension_channel="dt2";salesdesk_analytics_params.analytic_custom_dimension_domain="dt3"}else if(salesdesk_widget_server_name=="staging"){salesdesk_analytics_params.analytics_ua="UA-103949978-1";salesdesk_analytics_params.analytic_custom_dimension_business_id="dt1";salesdesk_analytics_params.analytic_custom_dimension_channel="dt2";salesdesk_analytics_params.analytic_custom_dimension_domain="dt3"}else{salesdesk_analytics_params.analytics_ua="UA-103949978-1";salesdesk_analytics_params.analytic_custom_dimension_business_id="dt1";salesdesk_analytics_params.analytic_custom_dimension_channel="dt2";salesdesk_analytics_params.analytic_custom_dimension_domain="dt3"}
try{setTimeout(function(){if(!salesdesk_skip_load_by_gtm){if(!isAlreadyCheckBusinessActive){initSalesDeskWidget();initListener()}}},salesdesk_widget_options.timeout)}catch(err){}
function generateTimeSlot(){var slot=[];for(var i=1;i<49;i++){var start_time=(i-1)/2;if(start_time%1==0){start_time=start_time+":00"}else{start_time=Math.floor(start_time)
start_time=start_time+":30"}
slot.push(start_time)}
return slot}
var time_slot_resource=generateTimeSlot();time_slot_resource.push('23:59');function salesdeskParseQueryString(){var script_tag=document.getElementById('r-widget-script');if(typeof(script_tag)=='undefined'||script_tag==null){script_tag=document.getElementById('salesdesk-widget-script')}
var query=script_tag.src.replace(/^[^\?]+\??/,'');var params=query.split("&");var param_length=params.length;var args={};for(var i=0;i<param_length;i++){var pair=params[i].split("=");args[pair[0]]=decodeURI(pair[1]).replace(/\+/g,' ')}
return args}
function initListener(){if(first_add_message_listener){if(window.addEventListener){addEventListener("message",WidgetListenerRchat,!1)}else{attachEvent("onmessage",WidgetListenerRchat)}
first_add_message_listener=!1}}
function WidgetListenerRchat(event){var ORIGIN=r_chat_url;if(event.origin!==ORIGIN){return}
var response=event.data;var unread=response.rChatUnread;var conversion=response.rChatConversion;if(conversion!=undefined){if(conversion.type=='start_chat'||conversion.type=='return_user'){salesdeskSaveAction('r_chat','action')}}
ShowNotiRchat(unread,'icon-rchat');if(!jQuerySalesDesk("#salesdesk_widget_button_group").hasClass("open")){ShowNotiRchat(unread,'icon-widget')}}
function initSalesDeskWidget(){checkBusinessActive(salesdesk_widget_arguments.business_id,function(is_active){isAlreadyCheckBusinessActive=!0;if(is_active==='true'){startDateTime=new Date();if(window.jQuery!==undefined){try{check_jquery_version=window.jQuery.fn.jquery;if(check_jquery_version.indexOf("-ajax")!==-1){check_jquery_version=0}}catch(err){check_jquery_version=0}
if(check_jquery_version!==0){check_jquery_version=parseInt(check_jquery_version.split('.').join(''))}
if(typeof jq1110!==undefined){try{check_jquery_version_1110=window.jq1110.fn.jquery}catch(err){check_jquery_version_1110=0}
if(check_jquery_version_1110!==0){check_jquery_version_1110=parseInt(check_jquery_version_1110.split('.').join(''))}}
if(check_jquery_version<check_jquery_version_1110){check_jquery_version=check_jquery_version_1110}}
if(window.jQuery===undefined||(check_jquery_version<=check_jquery_lessthan_version)){var script_tag=document.createElement('script');script_tag.setAttribute("type","text/javascript");script_tag.setAttribute("src",widget_server_url+"/widget/jquery.min.js");if(script_tag.readyState){script_tag.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){salesdeskScriptLoadHandler()}}}else{script_tag.onload=salesdeskScriptLoadHandler}(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(script_tag)}else{var get_jq1110='';try{get_jq1110=jq1110}catch(err){get_jq1110=''}
if(get_jq1110==''){jQuerySalesDesk=window.jQuery}else{jQuerySalesDesk=get_jq1110}
salesdeskLoadSetting()}}else{}})}
function decodeHtml(html){var txt=document.createElement("textarea");txt.innerHTML=html;return txt.value}
function checkChannelTimeSchedule(channel_id){if(typeof salesdesk_widget_options.display=="undefined"||salesdesk_widget_options.display==null){return!1}
if(typeof salesdesk_widget_options.display[channel_id]=="undefined"||salesdesk_widget_options.display[channel_id]==null||salesdesk_widget_options.display[channel_id]==!1||salesdesk_widget_options.display[channel_id]=='[]'){return!1}
var close_channel=!1;if(salesdesk_widget_options.display[channel_id].type==2&&salesdesk_widget_options.display[channel_id].schedule!='false'){var capital_timezone=salesdesk_widget_options.capital_timezone;var capital_timezone_split=capital_timezone.split(':');var tz_h=capital_timezone_split[0];var tz_m=capital_timezone_split[1];var tz_opt='';if(tz_h.startsWith('+')||tz_h.startsWith('-')){tz_opt=tz_h[0];tz_h=tz_h.substr(1)}else{tz_opt='+'}
var current_date=new Date();tz_h=new Date(2020,06,01,tz_h,00,00).getHours();tz_m=new Date(2020,06,01,00,tz_m,00).getMinutes();var schedule=salesdesk_widget_options.display[channel_id].schedule;var gmt_datetime=new Date(current_date.getUTCFullYear(),current_date.getUTCMonth(),current_date.getUTCDate(),current_date.getUTCHours(),current_date.getUTCMinutes(),current_date.getUTCSeconds(),current_date.getUTCMilliseconds());var gmt_time;if(tz_opt=='-'){gmt_time=new Date(gmt_datetime.setHours(gmt_datetime.getHours()-tz_h));gmt_time=gmt_time.setMinutes(gmt_time.getMinutes()-tz_m)}else if(tz_opt=='+'){gmt_time=new Date(gmt_datetime.setHours(gmt_datetime.getHours()+tz_h));gmt_time=gmt_time.setMinutes(gmt_time.getMinutes()+tz_m)}else{return 0}
gmt_time=new Date(gmt_time);var today=new Date(gmt_time).getDay();if(today==0){today=7}
var time_slot=schedule[today-1];if(time_slot!==''&&time_slot!==undefined){for(var i=0;i<time_slot.length;i++){var element_split=time_slot[i].split(',');var start=element_split[0];var end=element_split[1];var schedule_start=time_slot_resource[start-1].split(":");var schedule_end=time_slot_resource[end-1].split(":");var time_start=new Date(gmt_time.getFullYear(),gmt_time.getMonth(),gmt_time.getDate(),schedule_start[0],schedule_start[1],00);var time_end=new Date(gmt_time.getFullYear(),gmt_time.getMonth(),gmt_time.getDate(),schedule_end[0],schedule_end[1],00);if((new Date(gmt_time)>=new Date(time_start))&&(new Date(gmt_time)<=new Date(time_end))){close_channel=!1;break}else{close_channel=!0}}}else{close_channel=!0}}else{close_channel=!1}
return close_channel}
function recheckChannelLength(){var channel_tracking_list=salesdesk_widget_options.business.use_tracking;var count=0;var count_channel=0;channel_tracking_list.forEach(function(element){if(!checkChannelTimeSchedule(element)){if(element!="callback"){count++}}});return count}
function checkChannelTrackingLength(){var channel_tracking_list=salesdesk_widget_options.business.use_tracking;var count=0;var count_channel=0;channel_tracking_list.forEach(function(element){if(!checkChannelTimeSchedule(element)){count++}});return count}
function salesdeskCreateWidget(cookie_text){cookie_text=typeof cookie_text!=='undefined'?cookie_text:null;try{if(salesdesk_widget_options.is_preview!==!0){if(!salesdesk_widget_load_script.isFirstLoad(salesdesk_widget_load_script.options)){return}
if(jQuerySalesDesk(".salesdesk-widget").length!=0){return}
salesdeskLoadJS();salesdeskLoadCSS()}else{salesdeskDeleteCookie('rwidget_promotion_popup_action','/');salesdeskDeleteCookie('rwidget_promotion_popup_action_comparator','/');salesdeskDeleteCookie('salesdesk_modern_widget_bubble','/')}
var form_label=salesdeskGetFormLabel();if(salesdesk_widget_options.promotion_popup!=""){var cookie_code=salesdeskGetCookie('rwidget_promotion_popup_action');var cookie_code_comparator=salesdeskGetCookie('rwidget_promotion_popup_action_comparator');if((cookie_code!=salesdesk_widget_options.business.business_id+""+salesdesk_widget_options.promotion_popup.token)||cookie_code_comparator!=salesdesk_widget_options.business.business_id+""+salesdesk_widget_options.promotion_popup.token){renderPromotionPopup()}}
var device_width=window.innerWidth;var device_height=window.innerHeight;var force_display_tooltip="";var btn_float_container_width='';if(salesdesk_device.is_mobile()||salesdesk_widget_options.button_menu.display_tooltip=="always"){if(!jQuerySalesDesk("#salesdesk_widget_button_group").hasClass("open")){force_display_tooltip=' display:block; '}}
if(checkChannelTrackingLength()==0){salesdesk_widget_options.business.show_widget=!1}
var channel_length=recheckChannelLength();var salesdesk_widget_powered_by_text_style="";var call_back_position=((channel_length+1)*58);var salesdesk_widget_custom_style='',salesdesk_call_back_custom_style='',salesdesk_widget_call_back_custom_style='',salesdesk_widget_powered_by_text_style='';if(salesdesk_widget_options.position.custom.hasOwnProperty('left')&&salesdesk_widget_options.position.custom.left!=0){salesdesk_widget_custom_style+='left:'+salesdesk_widget_options.position.custom.left+'px;';salesdesk_call_back_custom_style='left:'+salesdesk_widget_options.position.custom.left+'px;';salesdesk_widget_powered_by_text_style+='left: 65px;'}
if(salesdesk_widget_options.position.custom.hasOwnProperty('right')&&salesdesk_widget_options.position.custom.right!=0){salesdesk_widget_custom_style+='right:'+salesdesk_widget_options.position.custom.right+'px;';salesdesk_call_back_custom_style='right:'+salesdesk_widget_options.position.custom.right+'px;';salesdesk_widget_powered_by_text_style+='right:65px;'}
if(salesdesk_widget_options.position.custom.hasOwnProperty('top')&&salesdesk_widget_options.position.custom.top!=0){salesdesk_widget_custom_style+='top:'+salesdesk_widget_options.position.custom.top+'px;';call_back_position=call_back_position+(salesdesk_widget_options.position.custom.top-15);salesdesk_widget_powered_by_text_style+='top:15px;'}
if(salesdesk_widget_options.position.custom.hasOwnProperty('bottom')&&salesdesk_widget_options.position.custom.bottom!=0){if(device_width>device_height&&salesdesk_device.is_mobile()){salesdesk_widget_custom_style+='bottom:'+salesdesk_widget_button_default_position_bottom+'px;'}else{salesdesk_widget_custom_style+='bottom:'+salesdesk_widget_options.position.custom.bottom+'px;'}
call_back_position=call_back_position+(salesdesk_widget_options.position.custom.bottom-15);salesdesk_widget_powered_by_text_style+='bottom:15px;'}
if(salesdesk_widget_options.position.name=="bottom-right"||salesdesk_widget_options.position.name=="bottom-center"||salesdesk_widget_options.position.name=="bottom-left"||salesdesk_widget_options.position.name=="middle-left"||salesdesk_widget_options.position.name=="middle-right"){if(salesdesk_widget_options.position.name=="middle-left"||salesdesk_widget_options.position.name=="middle-right"){if(channel_length>1){for(var i=channel_length;i>0;i--){call_back_position=call_back_position-55}}else if(channel_length==0){call_back_position=call_back_position+55}
var call_back_min_gap=0;if(channel_length<3){call_back_min_gap=5}else if(channel_length==3){call_back_min_gap=3}else{call_back_min_gap=0}
if(salesdeskCheckChannelId('r_chat')&&salesdesk_widget_options.business.use_r_chat==!1){salesdesk_widget_call_back_custom_style+='margin-top:-'+(call_back_position+125+call_back_min_gap-53)+'px;'}else{salesdesk_widget_call_back_custom_style+='margin-top:-'+(call_back_position+125+call_back_min_gap)+'px;'}}else{var call_back_min_gap=0;if(channel_length<3){call_back_min_gap=10}else if(channel_length==3){call_back_min_gap=5}else{call_back_min_gap=0}
if(salesdeskCheckChannelId('r_chat')&&salesdesk_widget_options.business.use_r_chat==!1){salesdesk_widget_call_back_custom_style+='bottom:'+(call_back_position+call_back_min_gap-53)+'px;'}else{salesdesk_widget_call_back_custom_style+='bottom:'+(call_back_position+call_back_min_gap)+'px;'}}}else if(salesdesk_widget_options.position.name=="top-left"||salesdesk_widget_options.position.name=="top-right"||salesdesk_widget_options.position.name=="top-center"){for(var i=channel_length;i==0;i--){var call_back_position=call_back_position-55}
var call_back_min_gap=0;if(channel_length<3){call_back_min_gap=10}else if(channel_length==3){call_back_min_gap=5}else{call_back_min_gap=0}
if(salesdeskCheckChannelId('r_chat')&&salesdesk_widget_options.business.use_r_chat==!1){salesdesk_widget_call_back_custom_style+='top:'+(call_back_position+call_back_min_gap-53)+'px;'}else{salesdesk_widget_call_back_custom_style+='top:'+(call_back_position+call_back_min_gap)+'px;'}}
if(salesdesk_widget_options.position.name=="top-left"||salesdesk_widget_options.position.name=="top-center"||salesdesk_widget_options.position.name=="middle-left"||salesdesk_widget_options.position.name=="bottom-left"||salesdesk_widget_options.position.name=="bottom-center"){salesdesk_widget_powered_by_text_style='left: 65px;top: 15px;'}else if(salesdesk_widget_options.position.name=="top-right"||salesdesk_widget_options.position.name=="middle-right"||salesdesk_widget_options.position.name=="bottom-right"){salesdesk_widget_powered_by_text_style='right: 65px;top: 15px;'}
var modern_widget_close_icon='';var widget_mode='classic';switch(salesdesk_widget_options.button_menu.style_of_widget){case 'modern':var mobile_max_padding=0
if(salesdesk_widget_options.position.custom.hasOwnProperty('left')&&salesdesk_widget_options.position.custom.left!=0){mobile_max_padding=salesdesk_widget_options.position.custom.left;mobile_max_padding=parseInt(mobile_max_padding)+50;mobile_max_padding='max-width: calc(100vw - '+mobile_max_padding+'px) !important;'}else if(salesdesk_widget_options.position.custom.hasOwnProperty('right')&&salesdesk_widget_options.position.custom.right!=0){mobile_max_padding=salesdesk_widget_options.position.custom.right;mobile_max_padding=parseInt(mobile_max_padding)+50;mobile_max_padding='max-width: calc(100vw - '+mobile_max_padding+'px) !important;'}else{mobile_max_padding='max-width: calc(75vw - 50px) !important;'}
widget_mode='modern';modern_widget_close_icon='<div class="close-icon-wrapper" onclick="closeModernWidgetBubble(event);"></div>';var modern_css_font='<style class="external_style">'+'    .salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text {'+'        font-size: 13px !important;font-weight: normal !important;'+'    }'+'   .salesdesk-call-back .salesdesk-form-input,'+'   .salesdesk-call-back .salesdesk-form-btn {'+'       font-size: 13px !important;'+'   }'+'   #salesdesk_widget_default_cookie_policy_content,'+'   #sdwidget_privacy_policy_consent,'+'   .salesdesk-widget-cookie-consent-banner-popup-text,'+'   .salesdesk-call-back,'+'   .salesdesk-call-back .salesdesk-call-back-header,'+'   .salesdesk-call-back .salesdesk-form-label,'+'   .salesdesk-call-back .salesdesk-form-input,'+'   .salesdesk-call-back .salesdesk-form-btn,'+'   div.salesdesk-widget-contact-popup-header, div.salesdesk-widget-click-to-call-popup-header, div.salesdesk-widget-line-popup-header, div.salesdesk-widget-facebook-popup-header, div.salesdesk-widget-google-map-popup-header, div.salesdesk-widget-allow-notification-permission-popup-header, div.salesdesk-widget-contact-code-popup-header,'+'   div.salesdesk-widget-contact-popup-sub-header, div.salesdesk-widget-click-to-call-popup-sub-header, div.salesdesk-widget-line-popup-sub-header, div.salesdesk-widget-facebook-popup-sub-header, div.salesdesk-widget-google-map-popup-sub-header, div.salesdesk-widget-allow-notification-permission-popup-sub-header, div.salesdesk-widget-contact-code-popup-sub-header,'+'   div.salesdesk-widget-contact-code-popup-body,'+'   div.salesdesk-widget-desktop-contact-code-header,'+'   div.salesdesk-widget-desktop-contact-code-body,'+'   div.salesdesk-widget-desktop-contact-code-footer,'+'   .salesdesk-widget-form-error-message,'+'   .salesdesk-form-submit,'+'   .salesdesk-contact-form-privacy-policy,'+'   .salesdesk-form-btn-action,'+'   .salesdesk-widget-form-label,'+'   .salesdesk-widget-form-input,'+'   .salesdesk-widget-form-textarea,'+'   .salesdesk-widget-form-file-upload span,'+'   #salesdesk_widget_contact_popup .salesdesk-message-info,'+'   div.salesdesk-widget-click-to-call-popup-body a.salesdesk-widget-display-phone-number,'+'   .salesdesk-widget-display-url {'+'       font-family:"Noto Sans Thai","Helvetica Neue",Helvetica,Arial,sans-serif !important;'+'   }'+'   @media screen and (max-width: 500px) { .salesdesk-widget.modern .salesdesk-widget-btn-default .salesdesk-widget-button-default-text { '+mobile_max_padding+'}}'+'</style>';jQuerySalesDesk("head").append(modern_css_font);break;default:widget_mode='classic';break}
var salesdesk_widget_html='<div class="salesdesk-widget '+widget_mode+'" style="display:none;">';salesdesk_widget_html+='    <div class="salesdesk-widget-'+salesdesk_widget_options.theme+'">';salesdesk_widget_html+='     <div class="salesdesk_widget_overlay"></div>';salesdesk_widget_html+='     <div class="salesdesk_widget_click_page_overlay" id="salesdesk_widget_click_page_overlay"></div>';salesdesk_widget_html+='     <div id="salesdesk_widget_button_group" class="float-btn-group salesdesk-widget-button-'+salesdesk_widget_options.position.name+'" style="'+salesdesk_widget_custom_style+'">';var salesdesk_custom_tooltip_background="";var widget_bg_color='';var widget_text_label_color='';if(salesdesk_widget_options.button_menu.custom_style_of_widget){if(widget_mode=='modern'){modern_widget_close_icon='<div class="close-icon-wrapper" style="color:'+salesdesk_widget_options.button_menu.text_color+'!important;" onclick="closeModernWidgetBubble(event);"></div>';var tooltip_background_rgb=salesdesk_widget_options.button_menu.tooltip_background_color.substr(4);var tooltip_background_temp=tooltip_background_rgb.replace(/[(|)]+/g,"").split(",").filter(function(el){return el});var tooltip_background_r=tooltip_background_temp[0];var tooltip_background_g=tooltip_background_temp[1];var tooltip_background_b=tooltip_background_temp[2];var tooltip_background_a=tooltip_background_temp[3];var tooltip_background_a_mod=0;if(parseFloat(tooltip_background_a)<0.1){tooltip_background_a_mod=parseFloat(tooltip_background_a)+0}else if(parseFloat(tooltip_background_a)<0.49){tooltip_background_a_mod=parseFloat(tooltip_background_a)+0.1}else if(parseFloat(tooltip_background_a)<0.79){tooltip_background_a_mod=parseFloat(tooltip_background_a)+0.15}else{tooltip_background_a_mod=parseFloat(tooltip_background_a)+0.1}
var modern_custom_css='<style class="external_style">'+'   .salesdesk-widget.modern .salesdesk-widget-button-text-top-right { '+'        background: rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a+') 0% 0% no-repeat padding-box !important;'+'    }'+'    .salesdesk-widget.modern .salesdesk-widget-button-text-top-right .speech_bubble_arrow {'+'        border-left: 17px solid rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a_mod+') !important;'+'    }'+'    .salesdesk-widget.modern .salesdesk-widget-button-text-top-left, '+'    .salesdesk-widget.modern .salesdesk-widget-button-text-top-center {'+'        background: rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a+') 0% 0% no-repeat padding-box !important;'+'    }'+'    .salesdesk-widget.modern .salesdesk-widget-button-text-top-left .speech_bubble_arrow, '+'    .salesdesk-widget.modern .salesdesk-widget-button-text-top-center .speech_bubble_arrow {'+'        border-right: 17px solid rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a_mod+') !important;'+'    }'+'    .salesdesk-widget.modern .salesdesk-widget-button-text-middle-right, '+'    .salesdesk-widget.modern .salesdesk-widget-button-text-bottom-right {'+'        background: rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a+') 0% 0% no-repeat padding-box !important;'+'    }'+'    .salesdesk-widget.modern .salesdesk-widget-button-text-middle-right .speech_bubble_arrow, '+'    .salesdesk-widget.modern .salesdesk-widget-button-text-bottom-right .speech_bubble_arrow {'+'        border-left: 17px solid rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a_mod+') !important;'+'    }'+'    .salesdesk-widget.modern .salesdesk-widget-button-text-middle-left, '+'    .salesdesk-widget.modern .salesdesk-widget-button-text-bottom-left, '+'    .salesdesk-widget.modern .salesdesk-widget-button-text-bottom-center {'+'        background: rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a+') 0% 0% no-repeat padding-box !important;'+'    }'+'    .salesdesk-widget.modern .salesdesk-widget-button-text-middle-left .speech_bubble_arrow, '+'    .salesdesk-widget.modern .salesdesk-widget-button-text-bottom-left .speech_bubble_arrow, '+'    .salesdesk-widget.modern .salesdesk-widget-button-text-bottom-center .speech_bubble_arrow {'+'        border-right: 17px solid rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a_mod+') !important;'+'    }'+'    .salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text {'+'        background: rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a+') 0% 0% no-repeat padding-box !important;'+'        color: '+salesdesk_widget_options.button_menu.text_color+' !important;'+'        font-size: 13px !important;font-weight: normal !important;'+'    }'+'    .salesdesk-widget.modern .tooltip-arrow-bottom-left,'+'    .salesdesk-widget.modern .tooltip-arrow-bottom-center,'+'    .salesdesk-widget.modern .tooltip-arrow-middle-left,'+'    .salesdesk-widget.modern .tooltip-arrow-top-left,'+'    .salesdesk-widget.modern .tooltip-arrow-top-center {'+'        border-right: 7px solid rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a_mod+') !important;'+'    }'+'    .salesdesk-widget.modern .tooltip-arrow-bottom-right,'+'    .salesdesk-widget.modern .tooltip-arrow-middle-right,'+'    .salesdesk-widget.modern .tooltip-arrow-top-right {'+'        border-left: 7px solid rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a_mod+') !important;'+'    }'+'    .salesdesk-widget.modern .powered_by_salesDesk {'+'        background: rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a+') 0% 0% no-repeat padding-box !important;'+'        color: '+salesdesk_widget_options.button_menu.text_color+' !important;'+'    }'+'    .salesdesk-widget.modern .salesdesk-widget-btn-default .salesdesk-widget-button-default-text {'+'        color: '+salesdesk_widget_options.button_menu.text_color+' !important;'+'    }'+'    .salesdesk-widget.modern .box-blur {'+'        background-color: rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a+') !important;'+'    }'+'    .salesdesk-widget.modern .sub-tooltip-blur {'+'        background-color: rgba('+tooltip_background_r+', '+tooltip_background_g+', '+tooltip_background_b+', '+tooltip_background_a+') !important;'+'    }';var use_background_blur=salesdeskConvertStringToBoolean(salesdesk_widget_options.button_menu.display_background_blur);if(!use_background_blur){modern_custom_css+='.salesdesk-widget.modern .sub-tooltip-blur { backdrop-filter: blur(0px) !important;-webkit-backdrop-filter: blur(0px) !important; }';modern_custom_css+='.salesdesk-widget.modern .box-blur { backdrop-filter: blur(0px) !important;-webkit-backdrop-filter: blur(0px) !important; }'}
var use_background_shadow=salesdeskConvertStringToBoolean(salesdesk_widget_options.button_menu.display_shadow);if(!use_background_shadow){modern_custom_css+='.salesdesk-widget.modern .powered_by_salesDesk { box-shadow: unset; }';modern_custom_css+='.salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text-style1-top-left,'+'.salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text-style1-top-center,'+'.salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text-style1-bottom-left,'+'.salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text-style1-bottom-center,'+'.salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text-style1-middle-left,'+'.salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text-style1-top-right,'+'.salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text-style1-bottom-right,'+'.salesdesk-widget.modern .salesdesk-widget-btn-list .salesdesk-widget-button-text-style1-middle-right,'+'.salesdesk-widget.modern .salesdesk-widget-button-text-top-right,'+'.salesdesk-widget.modern .salesdesk-widget-button-text-top-left,'+'.salesdesk-widget.modern .salesdesk-widget-button-text-top-center,'+'.salesdesk-widget.modern .salesdesk-widget-button-text-middle-right,'+'.salesdesk-widget.modern .salesdesk-widget-button-text-bottom-right,'+'.salesdesk-widget.modern .salesdesk-widget-button-text-middle-left,'+'.salesdesk-widget.modern .salesdesk-widget-button-text-bottom-left,'+'.salesdesk-widget.modern .salesdesk-widget-button-text-bottom-center, .salesdesk-widget.modern .speech_bubble_arrow, .salesdesk-widget.modern .salesdesk-widget-menu-group {'+'box-shadow: unset !important;'+'}'}
modern_custom_css+='</style>';jQuerySalesDesk("head").append(modern_custom_css)}else{var salesdesk_tooltip_text_color=salesdesk_widget_options.button_menu.text_color;salesdesk_custom_tooltip_background='background-color: '+salesdesk_widget_options.button_menu.tooltip_background_color+' !important;';var pseudo_element_css='<style class="external_style">'+'   .salesdesk-widget.classic .salesdesk-widget-button-text-top-right::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-style1-top-right::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-bottom-right::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-style1-bottom-right::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-middle-right::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-style1-middle-right::after { '+'        border-left: 7px solid '+salesdesk_widget_options.button_menu.tooltip_background_color+' !important;'+'    } '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-top-left::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-style1-top-left::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-top-center::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-style1-top-center::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-bottom-left::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-style1-bottom-left::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-bottom-center:after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-style1-bottom-center:after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-middle-left::after, '+'    .salesdesk-widget.classic .salesdesk-widget-button-text-style1-middle-left::after{ '+'        border-right: 7px solid '+salesdesk_widget_options.button_menu.tooltip_background_color+' !important;'+'    }'+'    .salesdesk-widget.classic .salesdesk-widget-button-text {'+'        color: '+salesdesk_tooltip_text_color+' !important;'+'    }'+'    .salesdesk-widget.classic .powered_by_salesDesk {'+'        color: '+salesdesk_tooltip_text_color+' !important;'+'    }'+'</style>';jQuerySalesDesk("head").append(pseudo_element_css)}
widget_bg_color='background-color:'+salesdesk_widget_options.button_menu.background_color+'!important;';widget_text_label_color='color:'+salesdesk_widget_options.button_menu.background_color+'!important;'}
var call_back_html='';if(salesdeskCheckChannelId('callback')===!0){var close_callback=checkChannelTimeSchedule('callback');if(!close_callback){var option_call_back='<option value="">'+form_label.widget.callback.subject_please_select+'</option>';form_label.widget.callback.subject_custom_options.forEach(function(subject_option){var subject_option_text=subject_option.replace(/^\s+|\s+$/g,'').replace(/\s/g,'&nbsp;');if(subject_option.length>27){option_call_back+='<option title="'+subject_option+'" value="'+subject_option+'">'+decodeHtml(subject_option_text).substring(0,26).concat('...')+'</option>'}else{option_call_back+='<option value="'+subject_option+'">'+decodeHtml(subject_option_text)+'</option>'}});var callback_privacy_policy_consent_html;var callback_privacy_policy_consent_template='<div class="callback-privacy-policy-consent"><span>[privacy_policy_message]<a [target] href="[privacy_policy_url]">[privacy_policy_name_link]</a></span></div>';if(google_crawler)callback_privacy_policy_consent_template='';if(salesdesk_widget_options.business.use_callback_privacy_policy_consent){if(salesdesk_widget_options.business.use_custom_callback_privacy_policy_consent){var url=salesdesk_widget_options.business.custom_callback_privacy_policy_consent_link;var checkUrl=/^(http(s)?):\/\//.test(url);if(!checkUrl){url='http://'+url}
callback_privacy_policy_consent_html=callback_privacy_policy_consent_template.replace('[privacy_policy_message]',auto_privacy_policy_consent_message[salesdesk_widget_options.language]).replace('[target]','target="_blank"').replace('[privacy_policy_url]',unescape(url)).replace('[privacy_policy_name_link]',auto_privacy_policy_consent_name_link[salesdesk_widget_options.language])}else{callback_privacy_policy_consent_html=callback_privacy_policy_consent_template.replace('[privacy_policy_message]',auto_privacy_policy_consent_message[salesdesk_widget_options.language]).replace('[target]','').replace('[privacy_policy_url]','javascript:openPrivacyPolicyConsentSdwForm();').replace('[privacy_policy_name_link]',auto_privacy_policy_consent_name_link[salesdesk_widget_options.language])}}else{callback_privacy_policy_consent_html=''}
call_back_html='<div class="salesdesk-call-back" id="salesdesk_display_call_back" style="'+salesdesk_call_back_custom_style+salesdesk_widget_call_back_custom_style+';">'+' <div class="salesdesk-call-back-header" style="'+widget_text_label_color+'">'+form_label.widget.callback.form_header+'</div>'+'<form id="salesdesk_call_back_form">'+'    <div class="salesdesk-form-group">'+'        <label class="salesdesk-form-label salesdesk-widget-form-label"> '+form_label.first_name+'</label>'+'        <div id="salesdesk_form_call_back_name_label" class="salesdesk-widget-form-label salesdesk-widget-form-error-container" style="display:none !important;">'+'            <div class="salesdesk-widget-form-error-message" id="salesdesk_form_call_back_name_error"></div>'+'        </div>'+'        <input id="salesdesk_form_call_back_name" maxlength="100" class="salesdesk-form-input salesdesk-call-back-name" type="text"  autocomplete="off">'+'    </div>'+'    <div class="salesdesk-form-group">'+'        <label class="salesdesk-form-label salesdesk-widget-form-label" for="salesdesk_form_call_back_phone">'+form_label.phone+'        </label>'+'        <div id="salesdesk_form_call_back_phone_label" class="salesdesk-widget-form-label salesdesk-widget-form-error-container" style="display:none !important;">'+'            <div class="salesdesk-widget-form-error-message" id="salesdesk_form_call_back_phone_error"></div>'+'        </div>'+'        <input id="salesdesk_form_call_back_phone" class="salesdesk-form-input salesdesk-call-back-tel" type="tel" placeholder="xxx-xxx-xxxx" autocomplete="off">'+'    </div>'+'    <div class="salesdesk-form-group">'+'        <label class="salesdesk-form-label salesdesk-widget-form-label" for="salesdesk_form_call_back_subject">'+form_label.call_back_subject+'        </label>'+'        <div id="salesdesk_form_call_back_subject_label" class="salesdesk-widget-form-label salesdesk-widget-form-error-container" style="display:none !important;">'+'            <div class="salesdesk-widget-form-error-message" id="salesdesk_form_call_back_subject_error"></div>'+'        </div>'+'        <select title="" id="salesdesk_form_call_back_subject" class="salesdesk-form-input salesdesk-call-back-subject" autocomplete="off">'+option_call_back+'        </select>'+'    </div>'+'    <div class="salesdesk-form-container-btn">'+'        <button type="submit" class="salesdesk-form-btn" style="'+widget_bg_color+'">'+form_label.widget.callback.button_submit_name+'        </button>'+'    </div>'+'</form>'+'<div class="salesdesk-message-info"  id="callback_timeout_error" style="display: none; font-size: 11px; margin-top: 0; text-align: center !important;"> '+salsesdesk_channel_timeout_error_message[salesdesk_widget_options.language]+'</div>'+'<div id="salesdesk_call_back_message_container">'+'    <div id="salesdesk_call_back_loading" class="salesdesk-message-info">'+form_label.message_saving+'    </div>'+'    <div id="salesdesk_call_back_thank_you" class="salesdesk-message-info">'+salesdeskNl2br(form_label.widget.callback.thank_you_message)+'    </div>'+'</div>'+callback_privacy_policy_consent_html+'</div>'}}
var set_button_pulse_effect="";var salesdesk_widget_button_pulse_event=salesdeskGetSessionStorage('salesdesk_widget_button_pulse');if((salesdesk_widget_options.business.use_button_pulse_effect==!0&&salesdesk_widget_button_pulse_event===null)||(salesdesk_widget_options.business.use_button_pulse_effect==!0&&salesdesk_widget_options.is_preview==!0)){set_button_pulse_effect="salesdesk-widget-btn-pulse"}
modern_widget_bubble_close='';if(salesdeskGetCookie('salesdesk_modern_widget_bubble')&&widget_mode=='modern'){modern_widget_bubble_close='opacity:0;'}
salesdesk_widget_html+=call_back_html+'<div id="salesdesk_widget_button" style="'+salesdesk_widget_powered_by_text_style+' '+salesdesk_custom_tooltip_background+'" class="powered_by_salesDesk powered_by_salesdesk-'+salesdesk_widget_options.position.name+'" onclick="gotoWidgetLandingPage()">'+'   <span class="salesdesk_powered_by_text">powered by </span>'+'   <span class="salesdesk_widget_name">ReadyPlanet</span>'+'   <div class="sub-tooltip-blur"></div>'+'</div>'+'<div class="salesdesk-widget-btn-default">'+'    <a '+'        href="javascript:void(0);" '+'        class="salesdesk-widget-btn-float salesdesk-widget-btn-triger salesdesk-widget-menu-group '+set_button_pulse_effect+'"'+'        style="'+widget_bg_color+'">'+'         <span class="saledesk_button_tap"></span>'+'        <span id="id_widget_has_noti_main" class="saledesk_widget_has_noti"></span>'+'    </a>'+'    <div '+'        style="'+force_display_tooltip+' '+salesdesk_custom_tooltip_background+' '+modern_widget_bubble_close+'"'+'        class="widget_get_width_main_button salesdesk-widget-button-default-text salesdesk-widget-button-text salesdesk-widget-button-text-'+salesdesk_widget_options.position.name+'"'+'        onclick="document.querySelector(\'.salesdesk-widget-menu-group\').click();"'+'        >'+'       '+modern_widget_close_icon+'        <span style="font-size:13px !important;">'+salesdesk_widget_options.button_menu.display_text+'</span>'+'        <div class="box-blur"></div>'+'        <div class="drawer">'+'            <div class="speech_bubble_arrow"></div>'+'        </div>'+'    </div>'+'</div>'+'<div class="salesdesk-widget-btn-list">';has_r_chat=!1;var salesdesk_action,salesdesk_widget_popup='';for(var i=0;i<salesdesk_widget_options.business.use_tracking.length;i++){var salesdesk_widget_channel_id=salesdesk_widget_options.business.use_tracking[i];if(salesdesk_widget_channel_id=='callback'){continue}
var button_text=form_label.widget[salesdesk_widget_channel_id].button_action_name;var salesdesk_widget_template=''+'<div class="salesdesk-widget-btn-float-container" '+btn_float_container_width+'>'+'    <a href="javascript:void(0);" class="salesdesk-widget-btn-float [color] [classname]" href="javascript:void(0);" data-action="[action]">'+'        <span class="saledesk_button_tap"></span>'+'    </a>'+'    <div '+'        class="[classgetwidth] salesdesk-widget-button-text salesdesk-widget-button-text-'+salesdesk_widget_options.theme+'-'+salesdesk_widget_options.position.name+'" '+'        onclick="document.querySelector(\'[clickclass]\').click();" '+'        style="cursor:pointer;'+salesdesk_custom_tooltip_background+'">'+'        [button_text]'+'        <div class="sub-tooltip-blur"></div>'+'    </div>'+'    <div class="tooltip-arrow-'+salesdesk_widget_options.position.name+'"></div>'+'</div>';if(salesdesk_widget_channel_id=="contact_form"){var close_contact_form=checkChannelTimeSchedule(salesdesk_widget_channel_id);if(!close_contact_form){salesdesk_widget_popup+=salesdeskContactPopupHtml();salesdesk_action="salesdeskOpenContactPopup();";salesdesk_widget_html+=salesdesk_widget_template.replace("[color]","contact-form-color").replace("[classname]",'salesdesk-widget-menu-contact-form').replace("[classgetwidth]",'widget_get_width_'+salesdesk_widget_channel_id).replace("[button_text]",button_text).replace("[action]",salesdesk_action).replace("[clickclass]",'.salesdesk-widget-menu-contact-form')}}else if(salesdesk_widget_channel_id=="click_to_call"){var close_click_to_call=checkChannelTimeSchedule(salesdesk_widget_channel_id);if(!close_click_to_call){if(salesdesk_device.is_mobile()){if(salesdesk_widget_options.business.use_contact_code){var click_to_call_next_func=function(){salesdeskSaveAction('click_to_call','action');salesdeskOpenExternalLink('tel:'+salesdesk_widget_options.business.phone_number)}
salesdesk_action="salesdeskDisplayContactCode(click_to_call_next_func);jQuerySalesDesk('#btn_continue_func').text('"+form_label.widget.click_to_call.button_call+"');"}else{salesdesk_action="salesdeskSaveAction('click_to_call','action');salesdeskOpenExternalLink('tel:"+salesdesk_widget_options.business.phone_number+"');"}}else{salesdesk_widget_popup+=salesdeskClickToCallPopupHtml();if(salesdesk_widget_options.business.use_contact_code){var click_to_call_next_func=function(){salesdeskOpenClickToCallPopup()}
salesdesk_action="salesdesk_widget_current_channel = 'click_to_call';salesdeskOpenClickToCallPopup();salesdeskDisplayContactCode(click_to_call_next_func);"}else{salesdesk_action="salesdesk_widget_current_channel = 'click_to_call';salesdeskOpenClickToCallPopup()"}}
salesdesk_widget_html+=salesdesk_widget_template.replace("[color]","click-to-call-color").replace("[classname]",'salesdesk-widget-menu-click-to-call').replace("[classgetwidth]",'widget_get_width_'+salesdesk_widget_channel_id).replace("[button_text]",button_text).replace("[action]",salesdesk_action).replace("[clickclass]",'.salesdesk-widget-menu-click-to-call')}}else if(salesdesk_widget_channel_id=="line"){var close_line=checkChannelTimeSchedule(salesdesk_widget_channel_id);if(!close_line){if(salesdesk_device.is_mobile()){if(salesdesk_widget_options.business.use_contact_code){var line_next_func=function(){salesdeskSaveAction('line','action');salesdeskOpenExternalLink(salesdeskGetLineUrl())}
salesdesk_action="salesdeskDisplayContactCode(line_next_func);jQuerySalesDesk('#btn_continue_func').text('"+form_label.widget.line.button_add_friend+"');"}else{salesdesk_action="salesdeskSaveAction('line','action');salesdeskOpenExternalLink(''+salesdeskGetLineUrl()+'');"}}else{salesdesk_widget_popup+=salesdeskLinePopupHtml();if(salesdesk_widget_options.business.use_contact_code){var line_next_func=function(){salesdeskOpenLinePopup()}
salesdesk_action="salesdesk_widget_current_channel = 'line';salesdeskOpenLinePopup();salesdeskDisplayContactCode(line_next_func);"}else{salesdesk_action="salesdesk_widget_current_channel = 'line';salesdeskOpenLinePopup();"}}
salesdesk_widget_html+=salesdesk_widget_template.replace("[color]","line-color").replace("[classname]",'salesdesk-widget-menu-line').replace("[classgetwidth]",'widget_get_width_'+salesdesk_widget_channel_id).replace("[button_text]",button_text).replace("[action]",salesdesk_action).replace("[clickclass]",'.salesdesk-widget-menu-line')}}else if(salesdesk_widget_channel_id=="facebook"){var close_facebook=checkChannelTimeSchedule(salesdesk_widget_channel_id);if(!close_facebook){var chat_type="user";if(salesdesk_widget_options.hasOwnProperty('facebook_chat_type')&&salesdesk_widget_options.facebook_chat_type!=""){chat_type=salesdesk_widget_options.facebook_chat_type}
if(salesdesk_device.is_mobile()||(chat_type=="user")){if(salesdesk_widget_options.business.use_contact_code){var facebook_next_func=function(){salesdeskSaveAction('facebook','action');salesdeskOpenExternalLink(salesdeskGetFacebookUrl())}
salesdesk_action="salesdeskDisplayContactCode(facebook_next_func);jQuerySalesDesk('#btn_continue_func').text('"+form_label.widget.facebook.button_open_messenger+"');"}else{salesdesk_action="salesdeskSaveAction('facebook','action');salesdeskOpenExternalLink(salesdeskGetFacebookUrl())"}}else{salesdesk_widget_popup+=salesdeskFacebookPopupHtml();if(salesdesk_widget_options.business.use_contact_code){var facebook_next_func=function(){salesdeskOpenFacebookPopup()}
salesdesk_action="salesdesk_widget_current_channel = 'facebook';salesdeskOpenFacebookPopup();salesdeskDisplayContactCode(facebook_next_func);"}else{salesdesk_action="salesdesk_widget_current_channel = 'facebook';salesdeskOpenFacebookPopup();"}}
salesdesk_widget_html+=salesdesk_widget_template.replace("[color]","facebook-color").replace("[classname]",'salesdesk-widget-menu-facebook').replace("[classgetwidth]",'widget_get_width_'+salesdesk_widget_channel_id).replace("[button_text]",button_text).replace("[action]",salesdesk_action).replace("[clickclass]",'.salesdesk-widget-menu-facebook')}}else if(salesdesk_widget_channel_id=="google_map"){var close_google_map=checkChannelTimeSchedule(salesdesk_widget_channel_id);if(!close_google_map){salesdesk_widget_popup+=salesdeskGoogleMapPopupHtml();salesdesk_action="salesdeskOpenGoogleMapPopup();";salesdesk_widget_html+=salesdesk_widget_template.replace("[color]","google-map-color").replace("[classname]",'salesdesk-widget-menu-google-map').replace("[classgetwidth]",'widget_get_width_'+salesdesk_widget_channel_id).replace("[button_text]",button_text).replace("[action]",salesdesk_action).replace("[clickclass]",'.salesdesk-widget-menu-google-map')}}else if(salesdesk_widget_channel_id=="whatsapp"){var close_whatsapp=checkChannelTimeSchedule(salesdesk_widget_channel_id);if(!close_whatsapp){if(salesdesk_widget_options.business.use_contact_code){var whatsapp_next_func=function(){salesdeskOpenExternalLink(salesdeskGetWhatsAppUrl())}
salesdesk_action="salesdesk_widget_current_channel = 'whatsapp'; salesdeskDisplayContactCode(whatsapp_next_func);salesdeskSaveAction('whatsapp','action');jQuerySalesDesk('#btn_continue_func').text('"+form_label.widget.whatsapp.button_open_chat+"');"}else{salesdesk_action="salesdesk_widget_current_channel = 'whatsapp'; salesdeskSaveAction('whatsapp','action');salesdeskOpenExternalLink(salesdeskGetWhatsAppUrl());"}
salesdesk_widget_html+=salesdesk_widget_template.replace("[color]","whatsapp-color").replace("[classname]",'salesdesk-widget-menu-whatsapp').replace("[classgetwidth]",'widget_get_width_'+salesdesk_widget_channel_id).replace("[button_text]",button_text).replace("[action]",salesdesk_action).replace("[clickclass]",'.salesdesk-widget-menu-whatsapp')}}else if(salesdesk_widget_channel_id=="skype"){var close_skype=checkChannelTimeSchedule(salesdesk_widget_channel_id);if(!close_skype){if(salesdesk_widget_options.business.use_contact_code){if(salesdesk_device.is_mobile()){var skype_next_func=function(){jQuerySalesDesk('#SkypeButton_Call_salesdesk_trigger').find('.lwc-button-icon').click()}
salesdesk_action="salesdesk_widget_current_channel = 'skype'; salesdeskDisplayContactCode(skype_next_func); salesdeskSaveAction('skype','action'); salesdeskShowOverlay();jQuerySalesDesk('#btn_continue_func').text('"+form_label.widget.skype.button_open_chat+"');"}else{var skype_next_func=function(){}
salesdesk_action="salesdesk_widget_current_channel = 'skype'; salesdeskDisplayContactCode(skype_next_func); salesdeskSaveAction('skype','action'); jQuerySalesDesk('#SkypeButton_Call_salesdesk_trigger').find('.lwc-button-icon').trigger('click'); salesdeskShowOverlay(); jQuerySalesDesk('.lwc-chat-frame').removeClass('close-chat').addClass('open-chat');"}}else{salesdesk_action="salesdesk_widget_current_channel = 'skype'; salesdeskSaveAction('skype','action');jQuerySalesDesk('#SkypeButton_Call_salesdesk_trigger').find('.lwc-button-icon').trigger('click');"}
salesdesk_widget_html+=salesdesk_widget_template.replace("[color]","skype-color").replace("[classname]",'salesdesk-widget-menu-skype').replace("[classgetwidth]",'widget_get_width_'+salesdesk_widget_channel_id).replace("[button_text]",button_text).replace("[action]",salesdesk_action).replace("[clickclass]",'.salesdesk-widget-menu-skype');jQuerySalesDesk('body').append('<div class="skype-button bubble" data-contact-id="'+salesdesk_widget_options.business.skype_id+'" id="SkypeButton_Call_salesdesk_trigger" style="display:none;"></div>');if(!salesdesk_widget_init_skype){jQuerySalesDesk.getScript("https://swc.cdn.skype.com/sdk/v1/sdk.min.js",function(data,textStatus,jqxhr){salesdesk_widget_init_skype=!0})}}}else if(salesdesk_widget_channel_id=="r_chat"&&salesdesk_widget_options.business.use_r_chat){var close_r_chat=checkChannelTimeSchedule(salesdesk_widget_channel_id);if(!close_r_chat){has_r_chat=!0;salesdesk_widget_html+='<div id="r-chat-container" class="salesdesk-widget-btn-float-container"></div>'
salesdeskLoadScriptRChat(salesdesk_custom_tooltip_background,salesdesk_widget_channel_id,button_text)}}else if(salesdesk_widget_channel_id=="zalo"){var close_r_chat=checkChannelTimeSchedule(salesdesk_widget_channel_id);if(!close_r_chat){salesdeskSetupZaloChat();if(salesdesk_widget_options.business.use_contact_code){if(salesdesk_device.is_mobile()){var zalo_next_func=function(){salesdeskOpenZaloChat()}
salesdesk_action="salesdesk_widget_current_channel = 'zalo'; salesdeskSaveAction('zalo','action'); salesdeskDisplayContactCode(zalo_next_func); salesdeskShowOverlay();jQuerySalesDesk('#btn_continue_func').text('"+form_label.widget.zalo.button_open_chat+"');"}else{var zalo_next_func=function(){}
salesdesk_action="salesdesk_widget_current_channel = 'zalo'; salesdeskOpenZaloChat(); salesdeskSaveAction('zalo','action'); salesdeskDisplayContactCode(zalo_next_func); salesdeskShowOverlay();"}}else{salesdesk_action="salesdesk_widget_current_channel = 'zalo'; salesdeskOpenZaloChat(); salesdeskSaveAction('zalo','action');"}
salesdesk_widget_html+=salesdesk_widget_template.replace("[color]","zalo-color").replace("[classname]",'salesdesk-widget-menu-zalo').replace("[classgetwidth]",'widget_get_width_'+salesdesk_widget_channel_id).replace("[button_text]",button_text).replace("[action]",salesdesk_action).replace("[clickclass]",'.salesdesk-widget-menu-zalo')}}}
salesdesk_widget_popup+=salesdeskAllowNotificationPermissionPopupHtml();salesdesk_widget_popup+=salesdeskContactCodePopupHtml();salesdesk_widget_html+='</div></div></div></div>';if(salesdesk_widget_options.business.use_cookie_consent_banner&&!google_crawler){salesdesk_widget_html+=salesdeskCookieConsentBannerPopupHtml(salesdesk_widget_options.business.cookie_consent_banner_display_style);if(!salesdesk_widget_options.business.use_custom_cookie_consent_banner){var html='<div class="cookie-policy-consent-wrapper" style="display: none;">'+'<div style="opacity: 1" id="salesdesk_widget_cookie_policy_en" class="salesdesk-widget-cookie-policy-en hide">'+'    <div class="salesdesk-widget-icon-close-container salesdesk-form-btn-close" data-action="closeCookiePolicy();">'+'        <div class="salesdesk-widget-icon-close"></div>'+'    </div>'+'    <div class="" id="salesdesk_widget_default_cookie_policy_content"></div>'+'</div>'+'</div>';salesdesk_widget_html+=html}}
var get_privacy_policy_text=!1;if((salesdesk_widget_options.business.use_contact_form_privacy_policy_consent)||(salesdesk_widget_options.business.use_callback_privacy_policy_consent)){var html='<div class="form-policy-consent-wrapper" style="display: none;">'+'<div style="opacity: 1" id="sdwidget_privacy_policy_consent_container" class="sdwidget-privacy-policy-consent-container-hide">'+'    <div class="salesdesk-widget-icon-close-container salesdesk-form-btn-close" data-action="closePrivacyPolicyConsentSdwForm();">'+'        <div class="salesdesk-widget-icon-close"></div>'+'    </div>'+'    <div class="" id="sdwidget_privacy_policy_consent"></div>'+'</div>'+'</div>';salesdesk_widget_html+=html;get_privacy_policy_text=!0}
jQuerySalesDesk('body').append(salesdesk_widget_html);if(salesdesk_widget_popup!=''){jQuerySalesDesk('body').append(salesdesk_widget_popup)}
if(salesdesk_widget_options.business.show_widget){setTimeout(function(){jQuerySalesDesk(".salesdesk-widget").show();jQuerySalesDesk('#salesdesk_widget_button_group').show();if(salesdesk_widget_options.business.use_button_pulse_effect==!0){setTimeout(function(){jQuerySalesDesk(".salesdesk-widget .salesdesk-widget-btn-triger").removeClass("salesdesk-widget-btn-pulse")},salesdesk_widget_timeout_list.show_default_btn_pulse_time)}
if(salesdesk_widget_options.business.use_push_notification==!0){var salesdesk_user_block_notification_permission=salesdeskGetCookie('salesdesk_user_block_notification_permission');if(typeof salesdesk_user_block_notification_permission=='undefined'||!salesdesk_user_block_notification_permission||salesdesk_user_block_notification_permission==''){salesdeskRequestPermissionForNotification()}}
if(salesdesk_widget_options.business.use_cookie_consent_banner&&!google_crawler){makeCookiesConsentBanner()}},1000)}else{setTimeout(function(){jQuerySalesDesk(".salesdesk-widget").show();jQuerySalesDesk('#salesdesk_widget_button_group').hide();if(salesdesk_widget_options.business.use_cookie_consent_banner&&!google_crawler){makeCookiesConsentBanner()}},1000)}
salesdeskWidgetInitTimeTracking();jQuerySalesDesk('.salesdesk-widget .salesdesk-widget-btn-triger').click(salesdeskWidget);jQuerySalesDesk(".salesdesk-widget .salesdesk-widget-btn-triger").bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){jQuerySalesDesk('.saledesk_button_tap').removeClass('active');jQuerySalesDesk(".salesdesk-widget-button-text").removeClass('salesdesk-widget-animate-width-right-to-left')});jQuerySalesDesk('.salesdesk-widget .salesdesk-widget-btn-float').click(function(){eval(jQuerySalesDesk(this).attr('data-action'));jQuerySalesDesk(this).find('.saledesk_button_tap').addClass('active')});jQuerySalesDesk(".salesdesk-widget .salesdesk-widget-btn-float").bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){jQuerySalesDesk('.saledesk_button_tap').removeClass('active')});jQuerySalesDesk('.salesdesk-form-btn-action').click(function(){eval(jQuerySalesDesk(this).attr("data-action"))});jQuerySalesDesk('.salesdesk-form-btn-close').click(function(){eval(jQuerySalesDesk(this).attr("data-action"))});jQuerySalesDesk('.salesdesk_widget_overlay').click(function(){salesdeskHideOverlay()});jQuerySalesDesk(window).resize(function(){salesdeskWidgetRePosition()});jQuerySalesDesk("#salesdesk_widget_form_input_file").change(function(){salesdeskOnSelectFile()});jQuerySalesDesk(".salesdesk-widget-form-file-select-display").click(function(){salesdeskRemoveSelectFile()});jQuerySalesDesk('#salesdesk_contact_form').submit(function(e){e.preventDefault();if(checkChannelTimeSchedule('contact_form')){jQuerySalesDesk("#salesdesk_show_loading").hide();jQuerySalesDesk("#salesdesk_contact_form").hide();jQuerySalesDesk("#salesdesk_thank_you").hide();jQuerySalesDesk("#salesdesk_message_info").show();jQuerySalesDesk('#contact_form_timeout_error').css('display','block');return 0}
if(salesdeskValidateContactForm()){var source_data=getSourceData("Contact Form");var data={"business_id":salesdesk_widget_options.business.business_id,"source":{"type":"website_form","ref":salesdesk_widget_client_params.website_url,"data":source_data,"origin":"widget"},"data":{"first_name":salesdeskStripTags(jQuerySalesDesk('#salesdesk_widget_form_input_first_name').val()),"last_name":salesdeskStripTags(jQuerySalesDesk('#salesdesk_widget_form_input_last_name').val()),"phone":jQuerySalesDesk('#salesdesk_widget_form_input_phone').val(),"phone_ext":jQuerySalesDesk('#salesdesk_widget_form_input_phone_ext').val(),"email":jQuerySalesDesk('#salesdesk_widget_form_input_email').val(),"custom":[{"field_name":"note","field_value":salesdeskStripTags(jQuerySalesDesk('#salesdesk_widget_form_input_note').val())}],"attach_file":{}},"geolocation":salesdesk_widget_client_params.geolocation};if((window.File&&window.FileReader&&window.FileList&&window.Blob)&&salesdesk_widget_options.business.use_attach_file==!0){var file=document.getElementById('salesdesk_widget_form_input_file').files[0];if(file){if(salesdeskCheckFile(file)){salesdeskReadFile(file).then(function(salesdesk_attach_file){data.data.attach_file=salesdesk_attach_file;salesdeskSendData(data)})}}else{salesdeskSendData(data)}}else{salesdeskSendData(data)}}
e.preventDefault();e.stopPropagation()});jQuerySalesDesk('#salesdesk_call_back_form').submit(function(e){e.preventDefault();if(checkChannelTimeSchedule('callback')){jQuerySalesDesk('#callback_timeout_error').css('display','block');jQuerySalesDesk("#salesdesk_call_back_loading").hide();jQuerySalesDesk("#salesdesk_call_back_form").hide();jQuerySalesDesk('.callback-privacy-policy-consent').css('display','none');return 0}
var customer=jQuerySalesDesk('#salesdesk_form_call_back_name').val();customer.trim();if(customer.length>100){var name_split=customer.substring(0,100)}else{var name_split=customer}
if(salesdeskValidateCallBackForm()){jQuerySalesDesk('.callback-privacy-policy-consent').css('display','none');var source_data=getSourceData("Callback");var data={"business_id":salesdesk_widget_options.business.business_id,"source":{"type":"website_form","ref":salesdesk_widget_client_params.website_url,"data":source_data,"origin":"callback"},"data":{"custom":[{"field_name":"note","field_value":form_label.call_back_subject+' : '+salesdeskStripTags(jQuerySalesDesk('#salesdesk_form_call_back_subject option:selected').val())+'\r'+form_label.source_data+' : '+form_label.title_of_callback}],"first_name":jQuerySalesDesk('#salesdesk_form_call_back_name').val(),"last_name":'',"phone":jQuerySalesDesk('#salesdesk_form_call_back_phone').val()}};try{salesdeskCallbackSaving();setCallBackPosition(!0);salesdeskWidgetRePosition();if(salesdesk_widget_options.is_preview==!1){salesdeskSaveAction('callback','action');jQuerySalesDesk.ajax({type:'POST',url:salesdesk_widget_url+"/v2/lead/add",contentType:"application/json; charset=utf-8",dataType:"json",data:salesdeskJsonStringify(data),global:!1,success:function(json){salesdeskCallbackThankyou()}})}else{salesdeskCallbackThankyou()}}catch(err){}}});if(salesdesk_widget_options.business.use_retargeting){var hostname=window.location.hostname;if(typeof hostname!='undefined'){var useless=["-dev","-staging","-test","api-","nexus-"];jQuerySalesDesk.each(useless,function(k,v){hostname=hostname.replace(v," ")});hostname=hostname.replace(" ","")}
if(typeof hostname!='undefined'&&hostname!="salesdesk.readyplanet.com"){var script_tag;script_tag=document.createElement('script');script_tag.setAttribute("type","text/javascript");script_tag.setAttribute("src",r_dynamic_js_url);script_tag.onload=function(){rDynamic.init(salesdesk_widget_options.business.business_id)};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(script_tag)}}
salesdeskSaveAction("page_view","view")}catch(err){console.log(err)}}
function salesdeskWidget(){var place_btn_salesdesk_widget_channel=jQuerySalesDesk("#salesdesk_widget_button");clearTimeout(salesdesk_widget_timeout_list.open_widget_channel);salesdesk_widget_timeout_list.open_widget_channel=setTimeout(function(){jQuerySalesDesk(place_btn_salesdesk_widget_channel).closest('.float-btn-group').toggleClass('open');jQuerySalesDesk(place_btn_salesdesk_widget_channel).closest('.float-btn-group .salesdesk-widget-btn-triger').toggleClass('rotate');jQuerySalesDesk(place_btn_salesdesk_widget_channel).find('.saledesk_button_tap').addClass('active');if(jQuerySalesDesk('.salesdesk-widget .float-btn-group').hasClass('open')){salesdeskSaveAction('widget_view','view');if(salesdesk_device.is_mobile()||salesdesk_widget_options.button_menu.display_tooltip=="always"){jQuerySalesDesk(".salesdesk-widget-button-text").addClass('salesdesk-widget-animate-width-right-to-left').show()}
salesdeskDisplayCallBack();jQuerySalesDesk(".powered_by_salesDesk").show();jQuerySalesDesk('#salesdesk_widget_click_page_overlay').show();salesdeskSetContactCode();if(has_r_chat){if(!salesdesk_device.is_mobile()){initShowRchat();salesdeskSaveAction('r_chat','view')}else{if(mobile_load_r_chat_first_time){initShowRchat();mobile_load_r_chat_first_time=!1}}}
ShowNotiRchat(0,'icon-widget')}else{if(salesdesk_device.is_mobile()||salesdesk_widget_options.button_menu.display_tooltip=="always"){if(salesdesk_widget_options.position.name=="bottom-right"||salesdesk_widget_options.position.name=="top-right"){jQuerySalesDesk(".salesdesk-widget-btn-float-container .salesdesk-widget-button-text").hide()}else{jQuerySalesDesk(".salesdesk-widget-btn-float-container .salesdesk-widget-button-text").hide(300)}
jQuerySalesDesk(".salesdesk-widget-button-default-text").show()}
jQuerySalesDesk("#salesdesk_display_call_back").hide();jQuerySalesDesk(".powered_by_salesDesk").hide();jQuerySalesDesk('#salesdesk_widget_click_page_overlay').hide();salesdeskCloseContactCodePopup();ShowNotiRchat(jQuerySalesDesk("#id_widget_has_noti_r_chat").text(),'icon-widget');salesdeskCallbackResetForm();jQuerySalesDesk('#callback_timeout_error').css('display','none')}},300);jQuerySalesDesk(this).removeClass("salesdesk-widget-btn-pulse");if(salesdesk_widget_options.is_preview==!1){salesdeskSetSessionStorage("salesdesk_widget_button_pulse","click")}}
function makeCookiesConsentBanner(){var display_type=salesdesk_widget_options.business.cookie_consent_banner_display_style.split('_')[0];var display_position=salesdesk_widget_options.business.cookie_consent_banner_display_style.split('_')[1];salesdeskOpenCookieConsentBannerPopup(salesdesk_widget_options.business.cookie_consent_banner_display_style);if((salesdeskGetCookie('cookie_consent_status')==null||salesdeskGetCookie('cookie_consent_status')!="accept")){if(display_type=='bar'){var height=document.querySelector('#salesdesk_widget_cookie_consent_banner_popup').offsetHeight
if(display_position=='bottom'){default_widget_bottom=salesdesk_widget_options.position.custom.bottom;if(salesdesk_widget_options.position.custom.bottom<=(height+10)){height+=10}else{height=default_widget_bottom}
jQuerySalesDesk("#salesdesk_widget_button_group").css("bottom",height+"px");var salesdesk_display_call_back=document.getElementById('salesdesk_display_call_back');if(typeof salesdesk_display_call_back!='undefined'&&salesdesk_display_call_back!=null){default_callback_bottom=parseInt(salesdesk_display_call_back.style.bottom,10);var call_back_bottom=parseInt(salesdesk_display_call_back.style.bottom,10);jQuerySalesDesk("#salesdesk_display_call_back").css("bottom",(call_back_bottom+height)+"px")}}else{default_widget_top=salesdesk_widget_options.position.custom.top;if(salesdesk_widget_options.position.custom.top<=(height+10)){height+=10}else{height=default_widget_top}
jQuerySalesDesk("#salesdesk_widget_button_group").css("top",height+"px");var salesdesk_display_call_back=document.getElementById('salesdesk_display_call_back');if(typeof salesdesk_display_call_back!='undefined'&&salesdesk_display_call_back!=null){default_callback_top=parseInt(salesdesk_display_call_back.style.top,10);var call_back_top=parseInt(salesdesk_display_call_back.style.top,10);jQuerySalesDesk("#salesdesk_display_call_back").css("top",(call_back_top+height)+"px")}}}else{var consent_banner_height=jQuerySalesDesk('#salesdesk_widget_cookie_consent_banner_popup').height()
var widow_height=jQuerySalesDesk(window).height()
var z_index_btn_widget=parseInt(jQuerySalesDesk('#salesdesk_widget_button_group').css('z-index'))+1
if(salesdesk_widget_options.business.show_widget){var widget_btn_h=salesdesk_widget_options.position.custom.top==undefined?salesdesk_widget_options.position.custom.bottom:salesdesk_widget_options.position.custom.top;consent_banner_height+=parseInt(widget_btn_h);consent_banner_height+=parseInt(jQuerySalesDesk('#salesdesk_widget_button_group').height())}
if((widow_height-widget_btn_h)<=consent_banner_height){var widget_position_x=salesdesk_widget_options.position.name.split('-')[1];var consent_banner_pos_x=display_position.split('-')[1];if(widget_position_x==consent_banner_pos_x){jQuerySalesDesk('div.salesdesk-widget-cookie-consent-banner-popup-container.floating').css('z-index',z_index_btn_widget)}
jQuerySalesDesk('.control-consent-yaxis').css('display','block');jQuerySalesDesk('#salesdesk_widget_cookie_consent_banner_popup').css({'height':'90%','overflow':'auto','border-radius':'6px'})}
if(display_position==salesdesk_widget_options.position.name){jQuerySalesDesk('div.salesdesk-widget-cookie-consent-banner-popup-container.floating').css('z-index',z_index_btn_widget)}}}}
function loadCookiePolicyConsent(){if(google_crawler)return;jQuerySalesDesk.ajax({url:widget_server_url+"/widget/cookie_policy.js",dataType:"script",scriptCharset:"UTF-8",success:function(){jQuerySalesDesk("#salesdesk_widget_default_cookie_policy_content").html(cookie_policy[salesdesk_widget_options.language])}})}
function closeCookiePolicy(){setTimeout(function(){jQuerySalesDesk('.cookie-policy-consent-wrapper').css('display','none');jQuerySalesDesk('.cookie-policy-consent-wrapper').css('z-index',-1)},500);jQuerySalesDesk('#salesdesk_widget_cookie_policy_en').removeClass('open').addClass('hide');jQuerySalesDesk("#salesdesk_widget_default_cookie_policy_content").html('')}
function showCookiePolicy(){if(google_crawler)return;jQuerySalesDesk('.cookie-policy-consent-wrapper').css('display','flex');salesdeskSetZindex(".cookie-policy-consent-wrapper");setTimeout(function(){jQuerySalesDesk('#salesdesk_widget_cookie_policy_en').removeClass('hide').addClass('remove')},100);jQuerySalesDesk('body').click(function(e){var target=jQuerySalesDesk(e.target);if(target.is('div.cookie-policy-consent-wrapper')){setTimeout(function(){jQuerySalesDesk('.cookie-policy-consent-wrapper').css('display','none');jQuerySalesDesk('.cookie-policy-consent-wrapper').css('z-index',-1)},500);jQuerySalesDesk('#salesdesk_widget_cookie_policy_en').removeClass('open').addClass('hide')}});var loading='<div class="loading-message"><span>'+privacy_policy_loading[salesdesk_widget_options.language]+'</span></div>'
jQuerySalesDesk("#salesdesk_widget_default_cookie_policy_content").html(loading);loadCookiePolicyConsent()}
function loadPrivacyPolicyContent(){if(google_crawler)return;jQuerySalesDesk.ajax({url:widget_server_url+"/widget/sdwidget_form_privacy_policy.js",dataType:"script",scriptCharset:"UTF-8",success:function(){jQuerySalesDesk("#sdwidget_privacy_policy_consent").html(sdwidget_form_privacy_policy_consent[salesdesk_widget_options.language])}})}
function openPrivacyPolicyConsentSdwForm(){if(google_crawler)return;jQuerySalesDesk('.form-policy-consent-wrapper').css('display','flex');salesdeskSetZindex('.form-policy-consent-wrapper');setTimeout(function(){jQuerySalesDesk('#sdwidget_privacy_policy_consent_container').removeClass('sdwidget-privacy-policy-consent-container-hide').addClass('sdwidget-privacy-policy-consent-container-open');jQuerySalesDesk('#sdwidget_privacy_policy_consent').scrollTop(0)},100);jQuerySalesDesk('body').click(function(e){var target=jQuerySalesDesk(e.target);if(target.is('div.form-policy-consent-wrapper')){setTimeout(function(){jQuerySalesDesk('.form-policy-consent-wrapper').css('display','none');jQuerySalesDesk('.form-policy-consent-wrapper').css('z-index',-1)},500);jQuerySalesDesk('#sdwidget_privacy_policy_consent_container').removeClass('sdwidget-privacy-policy-consent-container-open').addClass('sdwidget-privacy-policy-consent-container-hide')}});var loading='<div class="loading-message"><span>'+privacy_policy_loading[salesdesk_widget_options.language]+'</span></div>'
jQuerySalesDesk("#sdwidget_privacy_policy_consent").html(loading);loadPrivacyPolicyContent()}
function closePrivacyPolicyConsentSdwForm(){setTimeout(function(){jQuerySalesDesk('.form-policy-consent-wrapper').css('display','none');jQuerySalesDesk('.form-policy-consent-wrapper').css('z-index',-1)},500);jQuerySalesDesk('#sdwidget_privacy_policy_consent_container').removeClass('sdwidget-privacy-policy-consent-container-open').addClass('sdwidget-privacy-policy-consent-container-hide');jQuerySalesDesk("#sdwidget_privacy_policy_consent").html('')}
function closeModernWidgetBubble(event){salesdeskSetCookie('salesdesk_modern_widget_bubble','close',0,'/');var class_position='fade-out-'+salesdesk_widget_options.position.name;jQuerySalesDesk('.widget_get_width_main_button').removeClass('fade-out '+class_position).addClass('fade-out '+class_position);setTimeout(function(){jQuerySalesDesk('.widget_get_width_main_button').remove()},300);event.stopPropagation()}
function salesdeskCheckChannelId(channel_id){for(var i=0;i<salesdesk_widget_options.business.use_tracking.length;i++){var salesdesk_widget_channel_id=salesdesk_widget_options.business.use_tracking[i];if(salesdesk_widget_channel_id==channel_id){return!0}}
return!1}
function salesdeskGetChannelLength(){var count=0;for(var i=0;i<salesdesk_widget_options.business.use_tracking.length;i++){var salesdesk_widget_channel_id=salesdesk_widget_options.business.use_tracking[i];if(salesdesk_widget_channel_id!="callback"){count++}}
return count}
function salesdeskStripTags(string){return string.replace(/(<([^>]+)>)/ig,"")}
function salesdeskSetContactCode(){try{if(salesdeskCheckBusinessPermission()!==!0){return!1}
if(salesdesk_widget_options.business.use_contact_code){var visitor_uuid=salesdeskGetCookie('__sdwc');if(typeof visitor_uuid=='undefined'||!visitor_uuid||visitor_uuid==''){visitor_uuid=salesdeskUUID()}
var params={is_preview:salesdesk_widget_options.is_preview,business_id:salesdesk_widget_options.business.business_id,contact_code:salesdeskGetContactCode(),visitor_gclid:salesdesk_widget_client_params.gclid,visitor_website_url:salesdesk_widget_client_params.website_url,visitor_referrer_url:salesdesk_widget_client_params.referrer_url,visitor_uuid:visitor_uuid,visitor_device:salesdesk_device.is_mobile()?"mobile":"desktop"};jQuerySalesDesk.ajax({type:'POST',url:salesdesk_widget_url+"/v1/widget/contact/code",data:{data:salesdeskJsonStringify(params)},global:!1,success:function(res){if(res.result==0){salesdeskSetSessionStorage('salesdesk_contact_code',res.data.contact_code)}}})}}catch(err){}}
function salesdeskGetContactCode(){try{var salesdesk_contact_code=salesdeskGetSessionStorage('salesdesk_contact_code');return(salesdesk_contact_code===null)?"":salesdesk_contact_code}catch(err){}}
function salesdeskDisplayContactCode(func){if(salesdesk_widget_options.business.use_contact_code){salesdeskContactCodeReposition();var salesdesk_contact_code=salesdeskGetContactCode();if(typeof salesdesk_contact_code!='undefined'&&salesdesk_contact_code!=''){jQuerySalesDesk("#contact_code_desktop_value").html(salesdesk_contact_code);jQuerySalesDesk("#contact_code_mobile_value").html(salesdesk_contact_code);jQuerySalesDesk("#btn_continue_func").off("click").click(function(){func()});salesdeskOpenContactCodePopup()}else{salesdeskCloseContactCodePopup();if(salesdesk_device.is_mobile()){func()}}}else{if(salesdesk_device.is_mobile()){func()}}}
function salesdeskContactCodeReposition(){var contact_code_style=getSalesDeskContactCodePopupStylePosition(salesdesk_widget_options.position.name,salesdesk_widget_current_channel);var popup_style=contact_code_style.popup_style;jQuerySalesDesk('.salesdesk-widget-desktop-contact-code-container').attr('style',popup_style)}
function salesdeskDisplayCallBack(){if(salesdeskCheckChannelId('callback')===!0){setCallBackPosition(!1);jQuerySalesDesk("#salesdesk_display_call_back").show(300)}}
function setCallBackPosition(is_resize){if(salesdesk_widget_options.position.name=="middle-left"||salesdesk_widget_options.position.name=="middle-right"){var channel_length=salesdeskGetChannelLength();var call_back_position=((channel_length+1)*58)+55;var call_back_min_gap=0;if(channel_length<3){call_back_min_gap=5}else if(channel_length==3){call_back_min_gap=3}else{call_back_min_gap=0}
var callback_box_height=jQuerySalesDesk("#salesdesk_display_call_back").outerHeight()/2;var new_callback_posistion=(call_back_position+15+call_back_min_gap);if(!is_resize){new_callback_posistion+=callback_box_height}
jQuerySalesDesk("#salesdesk_display_call_back").css('margin-top',-(new_callback_posistion)+"px")}}
function salesdeskCallbackResetForm(){jQuerySalesDesk('.callback-privacy-policy-consent').css('display','flex');jQuerySalesDesk("#salesdesk_call_back_message_container").hide();jQuerySalesDesk("#salesdesk_call_back_loading").hide();jQuerySalesDesk("#salesdesk_call_back_thank_you").hide();jQuerySalesDesk("#salesdesk_call_back_form").show();jQuerySalesDesk("#salesdesk_form_call_back_name").val(salesdesk_widget_default.call_back.name);jQuerySalesDesk("#salesdesk_form_call_back_phone").val(salesdesk_widget_default.call_back.phone);jQuerySalesDesk("#salesdesk_form_call_back_subject").val(salesdesk_widget_default.call_back.subject);jQuerySalesDesk('#salesdesk_form_call_back_name_label').attr('style','display:none!important');jQuerySalesDesk('#salesdesk_form_call_back_phone_label').attr('style','display:none !important;');jQuerySalesDesk('#salesdesk_form_call_back_subject_label').attr('style','display:none!important')}
function salesdeskCallbackThankyou(){jQuerySalesDesk("#salesdesk_call_back_message_container").show();jQuerySalesDesk("#salesdesk_call_back_loading").hide();jQuerySalesDesk("#salesdesk_call_back_thank_you").show();jQuerySalesDesk("#salesdesk_call_back_form").hide();jQuerySalesDesk('#callback_timeout_error').css('display','none')}
function salesdeskCallbackSaving(){jQuerySalesDesk("#salesdesk_call_back_message_container").show();jQuerySalesDesk("#salesdesk_call_back_loading").show();jQuerySalesDesk("#salesdesk_call_back_thank_you").hide();jQuerySalesDesk("#salesdesk_call_back_form").hide();jQuerySalesDesk('#callback_timeout_error').css('display','none')}
function salesdeskSendData(data){try{if(salesdeskCheckBusinessPermission()!==!0){return!1}
var form_label=salesdeskGetFormLabel();salesdesk_skip_close_contact_form=!0;jQuerySalesDesk("#salesdesk_show_loading").text(form_label.message_saving).show();jQuerySalesDesk("#salesdesk_contact_form").hide();jQuerySalesDesk(".salesdesk-widget-icon-close").hide();jQuerySalesDesk("#salesdesk_message_info").show();jQuerySalesDesk("#salesdesk_thank_you").hide();jQuerySalesDesk("#salesdesk_show_loading").show();salesdeskWidgetRePosition();salesdeskSaveAction('contact_form','action');if(salesdesk_widget_options.is_preview==!1){jQuerySalesDesk.ajax({type:'POST',url:salesdesk_widget_url+"/v2/lead/add",dataType:"json",contentType:"application/json; charset=utf-8",dataType:"json",data:salesdeskJsonStringify(data),global:!1,success:function(json){jQuerySalesDesk(".salesdesk-widget-icon-close").show();jQuerySalesDesk("#salesdesk_message_info").show();jQuerySalesDesk("#salesdesk_thank_you").show();jQuerySalesDesk("#salesdesk_show_loading").hide();salesdesk_skip_close_contact_form=!1;jQuerySalesDesk('#contact_form_timeout_error').css('display','none')}})}else{jQuerySalesDesk(".salesdesk-widget-icon-close").show();jQuerySalesDesk("#salesdesk_message_info").show();jQuerySalesDesk("#salesdesk_thank_you").show();jQuerySalesDesk("#salesdesk_show_loading").hide();salesdesk_skip_close_contact_form=!1;jQuerySalesDesk('#contact_form_timeout_error').css('display','none')}}catch(err){}}
function salesdeskSaveAction(channel,action){try{if(salesdeskCheckBusinessPermission()!==!0){return!1}
if(salesdesk_widget_options.is_preview===undefined||salesdesk_widget_options.is_preview==!1){var sdwc=salesdeskGetCookie('__sdwc');if(typeof sdwc=='undefined'||!sdwc||sdwc==''){sdwc=salesdeskUUID()}
var params={"business_id":salesdesk_widget_options.business.business_id,"gclid":salesdesk_widget_client_params.gclid,"channel":channel,"visitor_device":salesdesk_device.is_mobile()?"mobile":"desktop","event_action":action,"website_url":salesdesk_widget_client_params.website_url,"referrer_url":salesdesk_widget_client_params.referrer_url,"uuid":sdwc,"utm_source":salesdesk_widget_client_params.utm_source,"utm_medium":salesdesk_widget_client_params.utm_medium,"utm_campaign":salesdesk_widget_client_params.utm_campaign};if(channel=='promotion_popup'){params.promotion_popup_campaign_token=salesdesk_widget_options.promotion_popup.token
params.new_user=salesdesk_widget_options.new_user?'true':'false'}else{params.promotion_popup_campaign_token=null;params.new_user=null}
jQuerySalesDesk.ajax({type:'POST',url:salesdesk_widget_url+"/v1/widget/event",data:{data:salesdeskJsonStringify(params)},global:!1,success:function(json){}});if(channel=='page_view'||channel=='widget_view'){salesdeskSendToAnalytics(params)}else if(action=='action'){salesdeskSendToAnalytics(params)}else{}
try{if(salesdesk_widget_options.business.use_retargeting){rDynamic.eventHandler(channel,action)}}catch(err){}}}catch(err){}}
function salesdeskCheckBusinessPermission(){var business_id=salesdesk_widget_options.business.business_id;if(!business_id)return!1;if(typeof business_id!='string')return!1;business_id=business_id.trim();if(business_id.length!=32){return!1}
return!0}
function salesdeskSendToAnalytics(params){var google_analytics_endpoint=salesdesk_analytics_params.analytics_endpoint_url;var v=salesdesk_analytics_params.analytics_version;var sdwc=salesdeskGetCookie('__sdwc');if(typeof sdwc=='undefined'||!sdwc||sdwc==''){sdwc=salesdeskUUID()}
var cid=sdwc;var data={v:v,tid:salesdesk_analytics_params.analytics_ua,dp:"/"+params.channel,t:"pageview",dt:"Widget Tracking",cid:cid,};data[salesdesk_analytics_params.analytic_custom_dimension_business_id]=salesdesk_widget_options.business.business_id;data[salesdesk_analytics_params.analytic_custom_dimension_channel]=params.channel;data[salesdesk_analytics_params.analytic_custom_dimension_domain]=window.location.hostname;try{jQuerySalesDesk.ajax({url:google_analytics_endpoint,type:"POST",data:jQuerySalesDesk.param(data),global:!1,})}catch(err){}}
function salesdeskUUID(){var cryptoObj=window.crypto||window.msCrypto;var uuid="";var uuid_pattern='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';if(cryptoObj){uuid=uuid_pattern.replace(/[xy]/g,function(c){var r=cryptoObj.getRandomValues(new Uint8Array(1))[0]%16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16)})}else{uuid=uuid_pattern.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16)})}
if(uuid.length){var sdwc_today=new Date();var sdwc_expiry=new Date(sdwc_today.getTime()+730*24*60*60*1000);salesdeskSetCookie('__sdwc',uuid,sdwc_expiry,"/")}
return uuid}
function salesdeskJsonStringify(params){try{return JSON.stringify(params)}catch(err){return JSON.encode(params)}}
function salesdeskJsonParse(params){try{return JSON.parse(params)}catch(err){return JSON.decode(params)}}
function salesdeskScrollToError(ele){}
function salesdeskValidateContactForm(){if(!salesdeskValidateRequired("salesdesk_widget_form_input_first_name")){return!1}else if(!salesdeskValidateRequired("salesdesk_widget_form_input_last_name")){return!1}else if(!salesdeskValidateRequired("salesdesk_widget_form_input_phone")){return!1}else if(!salesdeskValidatePhone("salesdesk_widget_form_input_phone")){return!1}else if(!salesdeskValidatePhoneExt("salesdesk_widget_form_input_phone_ext")){return!1}else if(!salesdeskValidateRequired("salesdesk_widget_form_input_email")){return!1}else if(!salesdeskValidateEmail("salesdesk_widget_form_input_email")){return!1}else{return!0}}
function salesdeskValidateCallBackForm(){var valid=!0;if(!salesdeskValidateText("salesdesk_form_call_back_name")){jQuerySalesDesk('#salesdesk_form_call_back_name_label').attr('style','');valid=!1}else{jQuerySalesDesk('#salesdesk_form_call_back_name_label').attr('style','display:none!important')}
if(!salesdeskValidatePhone("salesdesk_form_call_back_phone")){jQuerySalesDesk('#salesdesk_form_call_back_phone_label').attr('style','');valid=!1}else{jQuerySalesDesk('#salesdesk_form_call_back_phone_label').attr('style','display:none !important;')}
if(!salesdeskValidateRequired("salesdesk_form_call_back_subject")){jQuerySalesDesk('#salesdesk_form_call_back_subject_label').attr('style','');valid=!1}else{jQuerySalesDesk('#salesdesk_form_call_back_subject_label').attr('style','display:none!important')}
if(valid){return!0}else{return!1}}
function salesdeskResetContactFrom(){salesdesk_skip_close_contact_form=!1;jQuerySalesDesk("#salesdesk_contact_form").show();jQuerySalesDesk("#salesdesk_message_info").hide();jQuerySalesDesk("#salesdesk_thank_you").hide();jQuerySalesDesk("#salesdesk_show_loading").hide();jQuerySalesDesk("#salesdesk_contact_form").find(".salesdesk-widget-form-error").removeClass("salesdesk-widget-form-error");jQuerySalesDesk("#salesdesk_widget_form_input_file_label").removeClass("salesdesk-widget-form-error");jQuerySalesDesk("#salesdesk_contact_form")[0].reset();salesdeskRemoveSelectFile()}
function salesdeskOnSelectFile(){try{if(window.File&&window.FileReader&&window.FileList&&window.Blob){var file=document.getElementById('salesdesk_widget_form_input_file').files[0];if(file){jQuerySalesDesk(".salesdesk-widget-form-file-select").hide();jQuerySalesDesk("#salesdesk_widget_form_input_file").hide();jQuerySalesDesk(".salesdesk-widget-form-file-select-display").text(file.name).show();salesdeskCheckFile(file)}}}catch(err){}}
function salesdeskRemoveSelectFile(){jQuerySalesDesk("#salesdesk_widget_form_input_file_label").removeClass("salesdesk-widget-form-error");jQuerySalesDesk(".salesdesk-widget-form-file-upload").removeClass("salesdesk-widget-form-error");jQuerySalesDesk(".salesdesk-widget-form-file-select").show();jQuerySalesDesk("#salesdesk_widget_form_input_file").show();jQuerySalesDesk(".salesdesk-widget-form-file-select-display").empty().hide();jQuerySalesDesk("#salesdesk_widget_form_input_file").replaceWith('<input type = "file" id="salesdesk_widget_form_input_file" name="salesdesk_widget_form_input_file" class="salesdesk-widget-form-file" />');jQuerySalesDesk("#salesdesk_widget_form_input_file").change(function(){salesdeskOnSelectFile()})}
function salesdeskCheckFile(file){var form_error_message=salesdeskGetFormErrorMessage();var input=jQuerySalesDesk('#salesdesk_widget_form_input_file');var label=jQuerySalesDesk('#salesdesk_widget_form_input_file_label');var input_container=jQuerySalesDesk('.salesdesk-widget-form-file-upload');var show_error=jQuerySalesDesk('#salesdesk_widget_form_input_file_error');input_container.removeClass("salesdesk-widget-form-error");label.removeClass("salesdesk-widget-form-error");var file_extension="."+file.name.split('.').pop().toLowerCase();if(!salesdeskInArray(file_extension,salesdesk_widget_form_file_extension)){input_container.addClass("salesdesk-widget-form-error");label.addClass("salesdesk-widget-form-error");show_error.html(form_error_message.file_type);return!1}else if(file.size>salesdesk_widget_form_file_size){input_container.addClass("salesdesk-widget-form-error");label.addClass("salesdesk-widget-form-error");show_error.html(form_error_message.file_size);return!1}else{return!0}}
function salesdeskInArray(needle,haystack,argStrict){var key=''
var strict=!!argStrict
if(strict){for(key in haystack){if(haystack[key]===needle){return!0}}}else{for(key in haystack){if(haystack[key]==needle){return!0}}}
return!1}
function salesdeskReadFile(readFile){return new Promise(function(resolve,reject){var salesdesk_attach_file={};var reader=new FileReader();reader.onload=function(event){salesdesk_attach_file={name:readFile.name,data:event.target.result};resolve(salesdesk_attach_file)};reader.readAsDataURL(readFile)})}
function salesdeskValidateRequired(element_id){var form_error_message=salesdeskGetFormErrorMessage();var input=jQuerySalesDesk('#'+element_id);var label=jQuerySalesDesk('#'+element_id+'_label');var show_error=jQuerySalesDesk('#'+element_id+'_error');var value=input.val();if(jQuerySalesDesk.trim(value)==""){show_error.html(form_error_message.required);input.addClass("salesdesk-widget-form-error");label.addClass("salesdesk-widget-form-error");salesdeskScrollToError(label);return!1}else{show_error.html('');input.removeClass("salesdesk-widget-form-error");label.removeClass("salesdesk-widget-form-error");return!0}}
function salesdeskValidatePhoneExt(element_id){var regex=/^\d+$/;var form_error_message=salesdeskGetFormErrorMessage();var input=jQuerySalesDesk('#'+element_id);var label=jQuerySalesDesk('#'+element_id+'_label');var show_error=jQuerySalesDesk('#'+element_id+'_error');if(input.val()!=""&&!regex.test(input.val())){show_error.html(form_error_message.phone_extension);input.addClass("salesdesk-widget-form-error");label.addClass("salesdesk-widget-form-error");input.focusout(function(){salesdeskValidatePhoneExt(element_id)});salesdeskScrollToError(label);return!1}else{show_error.html('');input.removeClass("salesdesk-widget-form-error");label.removeClass("salesdesk-widget-form-error");return!0}}
function salesdeskValidatePhone(element_id){var regex=/^([+0]([0-9]{2}([ -])?)?[0-9]?)[1-9]{1,2}?([ -]?)[0-9]{3,4}?([ -]?)[0-9]{3,4}$/mg;var form_error_message=salesdeskGetFormErrorMessage();var input=jQuerySalesDesk('#'+element_id);var label=jQuerySalesDesk('#'+element_id+'_label');var show_error=jQuerySalesDesk('#'+element_id+'_error');var phone=input.val();var phone_number_only=phone.split(' ').join('');phone_number_only=phone_number_only.split('-').join('');if((phone!=""&&!regex.test(phone_number_only))||phone_number_only.length<5){show_error.html(form_error_message.phone_number);input.addClass("salesdesk-widget-form-error");label.addClass("salesdesk-widget-form-error");salesdeskScrollToError(label);return!1}else{show_error.html('');input.removeClass("salesdesk-widget-form-error");label.removeClass("salesdesk-widget-form-error");return!0}}
function salesdeskValidateText(element_id){var form_error_message=salesdeskGetFormErrorMessage();var input=jQuerySalesDesk('#'+element_id);var label=jQuerySalesDesk('#'+element_id+'_label');var show_error=jQuerySalesDesk('#'+element_id+'_error');var txt=input.val();if(txt==""){show_error.html(form_error_message.required);input.addClass("salesdesk-widget-form-error");label.addClass("salesdesk-widget-form-error");salesdeskScrollToError(label);return!1}else{show_error.html('');input.removeClass("salesdesk-widget-form-error");label.removeClass("salesdesk-widget-form-error");return!0}}
function salesdeskValidateEmail(element_id){var regex=/^\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}\b$/;var form_error_message=salesdeskGetFormErrorMessage();var input=jQuerySalesDesk('#'+element_id);var label=jQuerySalesDesk('#'+element_id+'_label');var show_error=jQuerySalesDesk('#'+element_id+'_error');var value=input.val();if(value!=""&&!regex.test(value)){show_error.html(form_error_message.email);input.addClass("salesdesk-widget-form-error");label.addClass("salesdesk-widget-form-error");input.focusout(function(){salesdeskValidateEmail(element_id)});salesdeskScrollToError(label);return!1}else{show_error.html('');input.removeClass("salesdesk-widget-form-error");label.removeClass("salesdesk-widget-form-error");return!0}}
var salesdesk_set_popup_width=!0;var salesdesk_set_popup_current_element_id;function salesdeskPopupPosition(element_id){var screen_width=screen.width;var device_width=window.innerWidth;var device_height=window.innerHeight;var popup_width=salesdeskGetElementWidth(element_id);if(popup_width==0){popup_width=400;if(salesdesk_device.is_mobile()){popup_width=device_width}}else{if(salesdesk_device.is_mobile()){if(popup_width>device_width){popup_width=device_width}}}
var popup_height=salesdeskGetElementHeight(element_id);if(popup_height==0){popup_height=500;if(popup_height>device_height){popup_height=device_height}}
var popup_position_top="50%";var popup_position_left="50%";var popup_margin_top=-(popup_height/2)+"px";var popup_margin_left=-(popup_width/2)+"px";var popup_position="fixed";salesdesk_set_popup_current_element_id=element_id;if((salesdesk_device.is_mobile()&&salesdeskViewPort())&&device_width<device_height){popup_margin_left=-((popup_width-50)/2)+"px";popup_width=(popup_width-50)}
if(popup_height>=device_height&&(salesdesk_device.is_mobile()&&salesdeskViewPort())){popup_position_top="20px";popup_margin_top="0px";popup_position="absolute";if(jQuerySalesDesk(window).scrollTop()>135){popup_position_top=(jQuerySalesDesk(window).scrollTop()+20)+"px"}}
jQuerySalesDesk(element_id).css({"position":popup_position,"top":popup_position_top,"left":popup_position_left,"margin-top":popup_margin_top,"margin-left":popup_margin_left});if(salesdesk_set_popup_width&&((salesdesk_device.is_mobile()&&salesdeskViewPort())&&device_width<device_height)){salesdesk_set_popup_width=!1;jQuerySalesDesk(element_id).css({"width":popup_width+"px"})}
var cookie_consent_elem=document.querySelector('#salesdesk_widget_cookie_consent_banner_popup');if(salesdesk_widget_options.business.use_cookie_consent_banner&&cookie_consent_elem&&(salesdeskGetCookie('cookie_consent_status')==null||salesdeskGetCookie('cookie_consent_status')!="accept")){var display_type=salesdesk_widget_options.business.cookie_consent_banner_display_style.split('_')[0];var display_position=salesdesk_widget_options.business.cookie_consent_banner_display_style.split('_')[1];var height=document.querySelector('#salesdesk_widget_cookie_consent_banner_popup').offsetHeight;var widget_position_y=salesdesk_widget_options.position.name.split('-')[0];if(display_type=='bar'&&display_position==widget_position_y){jQuerySalesDesk("#salesdesk_widget_button_group").css(calcHeightOfWidgetButtonGroup(display_position,height));var salesdesk_display_call_back=document.getElementById('salesdesk_display_call_back');if(typeof salesdesk_display_call_back!='undefined'&&salesdesk_display_call_back!=null){var get_cookie_consent_bar_height=getHeightTotal(display_position,height);if(display_position=='bottom'){jQuerySalesDesk("#salesdesk_display_call_back").css("bottom",(default_callback_bottom+get_cookie_consent_bar_height)+"px")}else{jQuerySalesDesk("#salesdesk_display_call_back").css("top",(default_callback_top+get_cookie_consent_bar_height)+"px")}}}}
jQuerySalesDesk(element_id).attr('is-set-position',!0)}
function calcHeightOfWidgetButtonGroup(display_position,height){if(display_position=='bottom'){var height=getHeightTotal(display_position,height);return{"bottom":height+"px"}}else{var height=getHeightTotal(display_position,height);return{"top":height+"px"}}}
function getHeightTotal(display_position,height){if(display_position=='bottom'){if(salesdesk_widget_options.position.custom.bottom<=(height+10)){height+=10}}else{if(salesdesk_widget_options.position.custom.top<=(height+10)){height+=10}}
return height}
function salesdeskWidgetRePosition(){salesdesk_set_popup_width=!0;jQuerySalesDesk(salesdesk_set_popup_current_element_id).attr('is-set-position',!1);salesdeskPopupPosition(salesdesk_set_popup_current_element_id)}
function salesdeskCookieConsentBannerAccept(){if(!salesdesk_widget_options.is_preview){var cookie_date=new Date;cookie_date.setFullYear(cookie_date.getFullYear()+1);salesdeskSetCookie('cookie_consent_status',"accept",cookie_date,'/')}
jQuerySalesDesk('.salesdesk-widget-cookie-consent-banner-wrapper.floating').css('z-index',-1);salesdeskCloseCookieConsentBannerPopup()}
function salesdeskCookieConsentBannerClose(){if(!salesdesk_widget_options.is_preview){salesdeskSetSessionStorage('cookie_consent_close',"close")}
salesdeskCloseCookieConsentBannerPopup()}
function salesdeskCookieConsentBannerPopupHtml(display_style){var display_type=display_style.split('_')[0];var display_position=display_style.split('_')[1];if((salesdeskGetCookie('cookie_consent_status')!==null&&salesdeskGetCookie('cookie_consent_status')=="accept")||salesdeskGetSessionStorage('cookie_consent_close')=="close"){return''}
var body_text_consent='';if(display_type=='bar'){body_text_consent='<div class="salesdesk-widget-cookie-consent-banner-popup-text" '+'style="color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_text_color+' !important;background-color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_text_bg_color+'!important;">'+salesdesk_widget_options.business.custom_cookie_consent_banner_text+'<span>'+'    <a href="javascript:void(0);" class="salesdesk-form-btn-action" '+'        style="background-color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_button_bg_color+' !important; '+'                color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_button_text_color+' !important;" '+'        onclick="salesdeskCookieConsentBannerAccept()"> '+salesdesk_widget_options.business.custom_cookie_consent_banner_button_text+'</a>'+'</span>'+'</div>'}else{body_text_consent='<div class="salesdesk-widget-cookie-consent-banner-popup-text" '+'style="color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_text_color+' !important;background-color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_text_bg_color+'!important;">'+salesdesk_widget_options.business.custom_cookie_consent_banner_text+'</div>'+'<div style="display: block;" class="button-accept-cookie-consent">'+'<span>'+'    <a href="javascript:void(0);" class="salesdesk-form-btn-action" '+'        style="background-color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_button_bg_color+' !important; '+'                color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_button_text_color+' !important;" '+'        onclick="salesdeskCookieConsentBannerAccept()"> '+salesdesk_widget_options.business.custom_cookie_consent_banner_button_text+'</a>'+'</span>'+'</div>'}
var form_label=salesdeskGetFormLabel();var style=document.createElement('style');style.innerHTML='#salesdesk_widget_cookie_consent_banner_popup a { '+'color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_text_color+'}';document.head.appendChild(style);var html='<!--googleoff: index--><div class="salesdesk-widget-cookie-consent-banner-wrapper '+display_type+'">'+'<div class="control-consent-yaxis">'+'    <div class="control-consent-xaxis">'+'        <div id="salesdesk_widget_cookie_consent_banner_popup" '+'            style="background-color: '+salesdesk_widget_options.business.custom_cookie_consent_banner_text_bg_color+';" '+'            class="salesdesk-widget-cookie-consent-banner-popup-container '+display_type+' '+display_position+' hide">'+body_text_consent+'        </div>'+'    </div>'+'</div>'+'</div><!--googleon: index-->';return html}
function salesdeskOpenCookieConsentBannerPopup(){if((salesdeskGetCookie('cookie_consent_status')!==null&&salesdeskGetCookie('cookie_consent_status')=="accept")||salesdeskGetSessionStorage('cookie_consent_close')=="close"){return}
jQuerySalesDesk("#salesdesk_widget_cookie_consent_banner_popup").removeClass("hide").addClass("open");salesdeskSetZindex("#salesdesk_widget_cookie_consent_banner_popup")}
function salesdeskCloseCookieConsentBannerPopup(){jQuerySalesDesk("#salesdesk_widget_cookie_consent_banner_popup").removeClass("open").addClass("hide");var display_type=salesdesk_widget_options.business.cookie_consent_banner_display_style.split('_')[0];var display_position=salesdesk_widget_options.business.cookie_consent_banner_display_style.split('_')[1];if(display_type=='bar'&&display_position=='bottom'){jQuerySalesDesk("#salesdesk_widget_button_group").css("bottom",default_widget_bottom+"px");jQuerySalesDesk("#salesdesk_display_call_back").css("bottom",(default_callback_bottom)+"px")}else if(display_type=='bar'&&display_position=='top'){jQuerySalesDesk("#salesdesk_widget_button_group").css("top",default_widget_top+"px");jQuerySalesDesk("#salesdesk_display_call_back").css("top",(default_callback_top)+"px")}}
function salesdeskAllowNotificationPermissionPopupHtml(){var form_label=salesdeskGetFormLabel();var html='<div style="opacity:0;" id="salesdesk_widget_allow_notification_permission_popup" class="salesdesk-widget-popup-container salesdesk-widget-allow-notification-permission-popup-container hide">';html+='<div class="salesdesk-widget-allow-notification-permission-popup-header" style="color:'+salesdesk_widget_options.button_menu.background_color+';">'+form_label.widget.push_notification.form_header+'</div>';html+='<div class="salesdesk-widget-allow-notification-permission-popup-sub-header"></div>';html+='<div class="salesdesk-widget-allow-notification-permission-popup-body">'+form_label.widget.push_notification.form_description+'</div>';html+='<div class="salesdesk-widget-allow-notification-permission-popup-footer">';html+='<a href="javascript:void(0);" class="salesdesk-form-btn-action salesdesk-form-btn-block-notification" onclick="salesdeskBlockNotificationPermission()">'+form_label.widget.push_notification.button_later+'</a>';html+='<a href="javascript:void(0);" class="salesdesk-form-btn-action salesdesk-form-btn-allow-notification" style="background-color:'+salesdesk_widget_options.button_menu.background_color+';" onclick="salesdeskShowAllowNotificationPermission()">'+form_label.widget.push_notification.button_accept+'</a>';html+='</div>';html+='</div></div>';return html}
function salesdeskOpenAllowNotificationPermissionPopup(){salesdeskHideOverlay();salesdeskShowOverlay();if(jQuerySalesDesk("#salesdesk_widget_allow_notification_permission_popup").attr('is-set-position')!="true"){salesdeskPopupPosition("#salesdesk_widget_allow_notification_permission_popup")}
jQuerySalesDesk("#salesdesk_widget_allow_notification_permission_popup").removeClass("hide");setTimeout(function(){var device_height=window.innerHeight;var popup_height=jQuerySalesDesk("#salesdesk_widget_allow_notification_permission_popup").outerHeight();var popup_width=jQuerySalesDesk("#salesdesk_widget_allow_notification_permission_popup").outerWidth();var popup_margin_top=-(popup_height/2)+"px";if(popup_height>=device_height&&(salesdesk_device.is_mobile()&&salesdeskViewPort())){popup_margin_top="0px"}
jQuerySalesDesk("#salesdesk_widget_allow_notification_permission_popup").css({"margin-top":popup_margin_top,"margin-left":(-(popup_width/2))+"px"});jQuerySalesDesk("#salesdesk_widget_allow_notification_permission_popup").addClass("open");salesdeskSetZindex("#salesdesk_widget_allow_notification_permission_popup")},10)}
function salesdeskCloseAllowNotificationPermissionPopup(){salesdeskHideOverlay()}
function salesdeskContactCodePopupHtml(){var form_label=salesdeskGetFormLabel();var btn_continue_text=form_label.widget.contact_code.button_action_name;var html='<div style="opacity:0;" id="salesdesk_widget_mobile_contact_code_popup" class="salesdesk-widget-popup-container salesdesk-widget-contact-code-popup-container hide">';html+='<div class="salesdesk-widget-contact-code-popup-header" style="color:'+salesdesk_widget_options.button_menu.background_color+';">'+form_label.widget.contact_code.form_header+'</div>';html+='<div class="salesdesk-widget-contact-code-popup-body" id="contact_code_mobile_value"></div>';html+='<div class="salesdesk-widget-contact-code-popup-sub-header">'+salesdeskNl2br(form_label.widget.contact_code.form_description)+'</div>';html+='<div class="salesdesk-widget-contact-code-popup-footer" id="btn_contact_code_continue">';html+='<a href="javascript:void(0);" class="salesdesk-form-btn-action" style="background-color:'+salesdesk_widget_options.button_menu.background_color+';" id="btn_continue_func">'+btn_continue_text+'</a>';html+='</div>';html+='</div></div>';var salesdesk_widget_contact_code_popup_style="",salesdesk_widget_contact_code_popup_border_style="";var contact_code_style=getSalesDeskContactCodePopupStylePosition(salesdesk_widget_options.position.name);salesdesk_widget_contact_code_popup_style=contact_code_style.popup_style;salesdesk_widget_contact_code_popup_border_style=contact_code_style.border_style;html+='<div style="'+salesdesk_widget_contact_code_popup_style+'" class="salesdesk-widget-desktop-contact-code-container hide '+salesdesk_widget_contact_code_popup_border_style+'" id="salesdesk_widget_desktop_contact_code_popup">';html+='<div class="salesdesk-widget-desktop-contact-code-header">'+form_label.widget.contact_code.form_header+'</div>';html+='<div class="salesdesk-widget-desktop-contact-code-body" id="contact_code_desktop_value"></div>';html+='<div class="salesdesk-widget-desktop-contact-code-footer">'+salesdeskNl2br(form_label.widget.contact_code.form_description)+'</div>';html+='</div>';return html}
function salesdeskOpenContactCodePopup(){var show_contact_code_mobile_popup_channel=['whatsapp'];if(salesdesk_device.is_mobile()||jQuerySalesDesk.inArray(salesdesk_widget_current_channel,show_contact_code_mobile_popup_channel)!=-1){salesdesk_widget_current_channel="";var salesdesk_contact_code_popup_id=jQuerySalesDesk("#salesdesk_widget_mobile_contact_code_popup");salesdeskHideOverlay();salesdeskShowOverlay();if(jQuerySalesDesk(salesdesk_contact_code_popup_id).attr('is-set-position')!="true"){salesdeskPopupPosition(salesdesk_contact_code_popup_id)}
jQuerySalesDesk(salesdesk_contact_code_popup_id).removeClass("hide");setTimeout(function(){var device_height=window.innerHeight;var popup_height=jQuerySalesDesk(salesdesk_contact_code_popup_id).outerHeight();var popup_width=jQuerySalesDesk(salesdesk_contact_code_popup_id).outerWidth();var popup_margin_top=-(popup_height/2)+"px";if(popup_height>=device_height&&(salesdesk_device.is_mobile()&&salesdeskViewPort())){popup_margin_top="0px"}
jQuerySalesDesk(salesdesk_contact_code_popup_id).css({"margin-top":popup_margin_top,"margin-left":(-(popup_width/2))+"px"});jQuerySalesDesk(salesdesk_contact_code_popup_id).addClass("open");salesdeskSetZindex(salesdesk_contact_code_popup_id)},10)}else{jQuerySalesDesk('#salesdesk_widget_desktop_contact_code_popup').removeClass("hide").addClass("open")}}
function salesdeskCloseContactCodePopup(){salesdeskHideOverlay();salesdesk_widget_current_channel=""}
function salesdeskGoogleMapPopupHtml(){var form_label=salesdeskGetFormLabel();var screen_width=screen.width;var device_width=window.innerWidth;var device_height=window.innerHeight;var popup_width,popup_height,iframe_width,iframe_height;if(salesdesk_device.is_mobile()){popup_width=(device_width-100);popup_height=(device_height-100);iframe_width="100%";iframe_height=(popup_height-50)}else{popup_width=(device_width>800)?785:(device_width-15);popup_height=(device_height-100);iframe_width=(popup_width-5)+"px";iframe_height=(popup_height-50)}
var html='<div style="opacity:0;width:'+popup_width+'px;height:'+popup_height+'px;" id="salesdesk_widget_google_map_popup" class="salesdesk-widget-popup-container salesdesk-widget-google-map-popup-container hide">';html+='<div class="salesdesk-widget-icon-close-container salesdesk-form-btn-close" data-action="salesdeskCloseGoogleMapPopup();"><div class="salesdesk-widget-icon-close"></div></div>';html+='<div class="salesdesk-widget-google-map-popup-header">'+form_label.widget.google_map.form_header+'</div>';html+='<div class="salesdesk-widget-google-map-popup-sub-header">'+salesdeskNl2br(form_label.widget.google_map.form_description)+'</div>';html+='<div class="salesdesk-widget-google-map-popup-body">';html+='<div class="salesdesk-google-map-responsive">';html+='<iframe id="salesdesk_widget_google_map_popup_iframe" frameborder="0" style="border:0;width:'+iframe_width+';height:'+iframe_height+'px;" src="https://www.google.com/maps/embed/v1/place?key='+salesdesk_widget_options.business.google_map.key+'&q='+salesdesk_widget_options.business.google_map.lat+', '+salesdesk_widget_options.business.google_map.lng+'&zoom='+salesdesk_widget_options.business.google_map.zoom+'&language='+salesdeskGetLanguage()+'" allowfullscreen></iframe>';html+='</div>';html+='</div>';html+='</div>';html+='</div></div>';return html}
function salesdeskOpenGoogleMapPopup(){salesdeskHideOverlay();salesdeskShowOverlay();if(jQuerySalesDesk("#salesdesk_widget_google_map_popup").attr('is-set-position')!="true"){salesdeskPopupPosition("#salesdesk_widget_google_map_popup");var iframe_height=jQuerySalesDesk("#salesdesk_widget_google_map_popup_iframe").outerHeight();var update_iframe_height=(iframe_height-(jQuerySalesDesk(".salesdesk-widget-google-map-popup-sub-header").outerHeight()+15));jQuerySalesDesk("#salesdesk_widget_google_map_popup_iframe").css({"height":update_iframe_height+"px"})}
jQuerySalesDesk("#salesdesk_widget_google_map_popup").removeClass("hide");salesdeskSaveAction('google_map','action');setTimeout(function(){var device_height=window.innerHeight;var popup_height=jQuerySalesDesk("#salesdesk_widget_google_map_popup").outerHeight();var popup_width=jQuerySalesDesk("#salesdesk_widget_google_map_popup").outerWidth();var popup_margin_top=-(popup_height/2)+"px";if(popup_height>=device_height&&(salesdesk_device.is_mobile()&&salesdeskViewPort())){popup_margin_top="0px"}
jQuerySalesDesk("#salesdesk_widget_google_map_popup").css({"margin-top":popup_margin_top,"margin-left":(-(popup_width/2))+"px"});jQuerySalesDesk("#salesdesk_widget_google_map_popup").addClass("open")},10)}
function salesdeskCloseGoogleMapPopup(){salesdeskHideOverlay()}
function salesdeskContactPopupHtml(){var form_label=salesdeskGetFormLabel();var form_elements=[{"id":"salesdesk_widget_form_input_first_name","label":form_label.first_name,"validate_rules":["required"],"type":"text","class_name":"salesdesk-widget-form-input","column":1,"display":!0,"style":"padding-top: 0px !important; padding-bottom: 0px !important;"},{"id":"salesdesk_widget_form_input_last_name","label":form_label.last_name,"validate_rules":["required"],"type":"text","class_name":"salesdesk-widget-form-input","column":1,"display":!0,"style":"padding-top: 0px !important; padding-bottom: 0px !important;"},{"elements":[{"id":"salesdesk_widget_form_input_phone","label":form_label.phone,"validate_rules":["required","phone_number"],"type":"tel","class_name":"salesdesk-widget-form-input","style":"width:60% !important; float:left !important; padding-top: 0px !important; padding-bottom: 0px !important;"},{"id":"salesdesk_widget_form_input_phone_ext","label":form_label.phone_ext,"validate_rules":["phone_extension"],"type":"text","class_name":"salesdesk-widget-form-input","style":"width:30% !important; margin-left:10% !important; float:right !important; padding-top: 0px !important; padding-bottom: 0px !important;"}],"column":2,"display":!0},{"id":"salesdesk_widget_form_input_email","label":form_label.email,"validate_rules":["required","email"],"type":"text","class_name":"salesdesk-widget-form-input","column":1,"display":!0,"style":"padding-top: 0px !important; padding-bottom: 0px !important;"},{"id":"salesdesk_widget_form_input_note","label":form_label.note,"validate_rules":[],"type":"textarea","class_name":"salesdesk-widget-form-textarea","column":1,"display":!0,"style":"padding-top: 0px !important; padding-bottom: 0px !important;"},{"id":"salesdesk_widget_form_input_file","label":form_label.attach_file,"validate_rules":["file_type","file_size"],"type":"file","class_name":"salesdesk-widget-form-file","column":1,"display":!0,"style":"padding-top: 0px !important; padding-bottom: 0px !important;"}];var privacy_policy_consent_html;var privacy_policy_consent_template='<div class="salesdesk-contact-form-privacy-policy"><span>[privacy_policy_message] <a [target] href="[privacy_policy_url]">[privacy_policy_name_link]</a></span></div>'
if(google_crawler)privacy_policy_consent_template='';if(salesdesk_widget_options.business.use_contact_form_privacy_policy_consent){if(salesdesk_widget_options.business.use_custom_contact_form_privacy_policy_consent){var url=salesdesk_widget_options.business.custom_contact_form_privacy_policy_consent_text_link
var checkUrl=/^(http(s)?):\/\//.test(url);if(!checkUrl){url='http://'+url}
privacy_policy_consent_html=privacy_policy_consent_template.replace('[privacy_policy_message]',auto_privacy_policy_consent_message[salesdesk_widget_options.language]).replace('[target]','target="_blank"').replace('[privacy_policy_url]',url).replace('[privacy_policy_name_link]',auto_privacy_policy_consent_name_link[salesdesk_widget_options.language])}else{privacy_policy_consent_html=privacy_policy_consent_template.replace('[privacy_policy_message]',auto_privacy_policy_consent_message[salesdesk_widget_options.language]).replace('[target]','').replace('[privacy_policy_url]','javascript:openPrivacyPolicyConsentSdwForm();').replace('[privacy_policy_name_link]',auto_privacy_policy_consent_name_link[salesdesk_widget_options.language])}}else{privacy_policy_consent_html=''}
var html='<!--googleoff: index--><div style="opacity:0;" id="salesdesk_widget_contact_popup" class="salesdesk-widget-popup-container salesdesk-widget-contact-popup-container hide">';html+='<div class="salesdesk-widget-icon-close-container salesdesk-form-btn-close" data-action="salesdeskCloseContactPopup();"><div class="salesdesk-widget-icon-close"></div></div>';html+='<div id="salesdesk_message_info">';html+='<div class="salesdesk-widget-contact-popup-header">'+form_label.widget.contact_form.form_header+'</div>';html+='<div id="salesdesk_show_loading" class="salesdesk-message-info">'+form_label.message_saving+'</div>';html+='<div id="salesdesk_thank_you" class="salesdesk-message-info">'+salesdeskNl2br(form_label.thank_you)+'</div>';html+='<div class="salesdesk-message-info" style="margin-top: 3px; text-align: center;" id="contact_form_timeout_error">'+salsesdesk_channel_timeout_error_message[salesdesk_widget_options.language]+'</div></span>'
html+='</div>';html+='<form id="salesdesk_contact_form" novalidate>';html+='<div class="salesdesk-widget-contact-popup-header">'+form_label.widget.contact_form.form_header+'</div>';html+='<div class="salesdesk-widget-contact-popup-sub-header">'+salesdeskNl2br(form_label.widget.contact_form.form_description)+'</div>';html+='<div class="salesdesk-widget-contact-popup-body">';for(var e=0;e<form_elements.length;e++){if(form_elements[e].display){if(form_elements[e].column==1){if((form_elements[e].id=="salesdesk_widget_form_input_file"&&salesdesk_widget_options.business.use_attach_file==!0)||form_elements[e].id!="salesdesk_widget_form_input_file"){html+='<label class="salesdesk-widget-form-label" for="'+form_elements[e].id+'" id="'+form_elements[e].id+'_label">'+form_elements[e].label;if(form_elements[e].validate_rules.length!=0&&form_elements[e].validate_rules[0]=="required"){html+='<span class="salesdesk-widget-form-red-star">*</span>'}
html+='<div class="salesdesk-widget-form-error-message" id="'+form_elements[e].id+'_error"></div></label>'}
if(form_elements[e].type=="textarea"){html+='<textarea id="'+form_elements[e].id+'" name="'+form_elements[e].id+'" class="'+form_elements[e].class_name+'" style="'+form_elements[e].style+'"></textarea>'}else if(form_elements[e].type=="file"&&salesdesk_widget_options.business.use_attach_file==!0){html+='<div class="salesdesk-widget-form-file-upload">';html+='<span class="salesdesk-widget-form-file-select">'+form_label.button_select_file+'</span>';html+='<span class="salesdesk-widget-form-file-select-display" style="display: none;"></span>';html+='<input type="'+form_elements[e].type+'" id="'+form_elements[e].id+'" name="'+form_elements[e].id+'" class="'+form_elements[e].class_name+'" autocomplete="off">';html+='</div>'}else{if(form_elements[e].type!="file"){html+='<input type="'+form_elements[e].type+'" id="'+form_elements[e].id+'" name="'+form_elements[e].id+'" class="'+form_elements[e].class_name+'" autocomplete="off"  style="'+form_elements[e].style+'">'}}}else{html+='<label class="salesdesk-widget-form-label" for="'+form_elements[e].elements[0].id+'">';for(var j=0;j<form_elements[e].elements.length;j++){html+='<span style="'+form_elements[e].elements[j].style+'" class="salesdesk-widget-form-label" id="'+form_elements[e].elements[j].id+'_label">'+form_elements[e].elements[j].label;if(form_elements[e].elements[j].validate_rules.length!=0&&form_elements[e].elements[j].validate_rules[0]=="required"){html+='<span class="salesdesk-widget-form-red-star">*</span>'}
html+='<div class="salesdesk-widget-form-error-message" id="'+form_elements[e].elements[j].id+'_error"></div></span>'}
html+='</label>';for(var j=0;j<form_elements[e].elements.length;j++){html+='<input style="'+form_elements[e].elements[j].style+'" type="'+form_elements[e].elements[j].type+'" id="'+form_elements[e].elements[j].id+'" name="'+form_elements[e].elements[j].id+'" class="'+form_elements[e].elements[j].class_name+'" autocomplete="off">'}}}}
html+='</div>';html+='<div class="salesdesk-widget-contact-popup-footer">';html+='<input type="submit" value="'+form_label.button_submit+'" class="salesdesk-form-submit">';html+=privacy_policy_consent_html;html+='</div>';html+='<form>';html+='</div><!--googleon: index-->';return html}
function salesdeskOpenContactPopup(){salesdeskHideOverlay();salesdeskShowOverlay();salesdeskResetContactFrom();if(jQuerySalesDesk("#salesdesk_widget_contact_popup").attr('is-set-position')!="true"){salesdeskPopupPosition("#salesdesk_widget_contact_popup")}
jQuerySalesDesk("#salesdesk_widget_contact_popup").removeClass("hide");salesdeskSaveAction('contact_form','view');setTimeout(function(){var device_height=window.innerHeight;var popup_height=jQuerySalesDesk("#salesdesk_widget_contact_popup").outerHeight();var popup_width=jQuerySalesDesk("#salesdesk_widget_contact_popup").outerWidth();var popup_margin_top=-(popup_height/2)+"px";if(popup_height>=device_height&&(salesdesk_device.is_mobile()&&salesdeskViewPort())){popup_margin_top="0px"}
jQuerySalesDesk("#salesdesk_widget_contact_popup").css({"margin-top":popup_margin_top,"margin-left":(-(popup_width/2))+"px"});jQuerySalesDesk("#salesdesk_widget_contact_popup").addClass("open")},10)}
function salesdeskCloseContactPopup(){salesdeskHideOverlay()}
function salesdeskClickToCallPopupHtml(){var form_label=salesdeskGetFormLabel();var phone_format=setPhoneFormat(salesdesk_widget_options.business.phone_number);var html='<div style="opacity:0;" id="salesdesk_widget_click_to_call_popup" class="salesdesk-widget-popup-container salesdesk-widget-click-to-call-popup-container hide">';html+='<div class="salesdesk-widget-icon-close-container salesdesk-form-btn-close" data-action="salesdeskCloseClickToCallPopup();"><div class="salesdesk-widget-icon-close"></div></div>';html+='<div class="salesdesk-widget-click-to-call-popup-header">'+form_label.widget.click_to_call.form_header+'</div>';html+='<div class="salesdesk-widget-click-to-call-popup-sub-header">'+salesdeskNl2br(form_label.widget.click_to_call.form_description)+'</div>';html+='<div class="salesdesk-widget-click-to-call-popup-body"><a href="javascript:void(0);" class="salesdesk-widget-display-phone-number">'+phone_format+'</a></div>';html+='</div>';html+='</div></div>';return html}
function setPhoneFormat(phone_number){phone_number=jQuerySalesDesk.trim(phone_number);phone_number=phone_number.replace(/\s/g,"");phone_number=phone_number.replace(/-/g,"");if(phone_number.length==9){var phone_format=phone_number.replace(/(\d{2})(\d{3})(\d{4})/,'$1-$2-$3')}else if(phone_number.length==10){var phone_format=phone_number.replace(/(\d{3})(\d{3})(\d{4})/,'$1-$2-$3')}else{var phone_format=phone_number}
return phone_format}
function salesdeskOpenClickToCallPopup(){salesdeskHideOverlay();salesdeskShowOverlay();if(jQuerySalesDesk("#salesdesk_widget_click_to_call_popup").attr('is-set-position')!="true"){salesdeskPopupPosition("#salesdesk_widget_click_to_call_popup")}
jQuerySalesDesk("#salesdesk_widget_click_to_call_popup").removeClass("hide");salesdeskSaveAction('click_to_call','action');setTimeout(function(){var popup_height=jQuerySalesDesk("#salesdesk_widget_click_to_call_popup").outerHeight();jQuerySalesDesk("#salesdesk_widget_click_to_call_popup").css({"margin-top":(-(popup_height/2))+"px",});var popup_width=jQuerySalesDesk("#salesdesk_widget_click_to_call_popup").outerWidth();jQuerySalesDesk("#salesdesk_widget_click_to_call_popup").css({"margin-left":(-(popup_width/2))+"px",});jQuerySalesDesk("#salesdesk_widget_click_to_call_popup").addClass("open")},10)}
function salesdeskCloseClickToCallPopup(){salesdeskHideOverlay()}
function salesdeskLinePopupHtml(){var form_label=salesdeskGetFormLabel();var line_config={height:390,margin_top:-120};var html='<div style="opacity:0;width:300px;height:390px;" id="salesdesk_widget_line_popup" class="salesdesk-widget-popup-container salesdesk-widget-line-popup-container hide">';html+='<div class="salesdesk-widget-icon-close-container salesdesk-form-btn-close" data-action="salesdeskCloseLinePopup();"><div class="salesdesk-widget-icon-close"></div></div>';html+='<div class="salesdesk-widget-line-popup-header">'+form_label.widget.line.form_header+'</div>';html+='<div class="salesdesk-widget-line-popup-sub-header">'+salesdeskNl2br(form_label.widget.line.form_description)+'</div>';html+='<div class="salesdesk-widget-line-popup-body" style="overflow:hidden;">';html+='<div class="salesdesk-widget-display-qr-code"><iframe src="'+salesdeskGetLineUrl()+'" style="height: '+line_config.height+'px;border:0px;margin-top:'+line_config.margin_top+'px;" scrolling="no" frameborder="0" allowtransparency="true" ></iframe><canvas id="salesdesk_line_qrcode" style="display:none;"></canvas></div>';html+='</div>';html+='<div class="salesdesk-widget-line-popup-footer" style="display:none;"><input type="button" value="'+form_label.widget.line.button_add_friend+'" class="salesdesk-form-btn-action" data-action="salesdeskSaveAction(\'line\',\'action\');salesdeskOpenExternalLink(\''+salesdeskGetLineUrl()+'\');"></div></div>';html+='</div>';return html}
function salesdeskOpenLinePopup(){salesdeskCloseContactPopup();salesdeskCloseClickToCallPopup();salesdeskCloseFacebookPopup();salesdeskShowOverlay();salesdeskPopupPosition("#salesdesk_widget_line_popup");jQuerySalesDesk("#salesdesk_widget_line_popup").removeClass("hide");jQuerySalesDesk("#salesdesk_widget_line_popup").addClass("open");salesdeskSaveAction('line','action')}
function salesdeskCloseLinePopup(){salesdeskHideOverlay()}
function salesdeskFacebookPopupHtml(){var form_label=salesdeskGetFormLabel();var screen_width=screen.width;var device_width=window.innerWidth;var device_height=window.innerHeight;var popup_width,popup_height,iframe_width,iframe_height;if(salesdesk_device.is_mobile()){popup_width=(device_width-70);popup_height=300}else{popup_width=350;popup_height=300}
var fb_config={plugin_url:"https://www.facebook.com/plugins/page.php",width:popup_width,height:popup_height,hide_cover:!0,adapt_container_width:!0,tabs:"messages",small_header:!0,show_facepile:!1,locale:"th_TH"};if(salesdesk_widget_options.language=="en"){fb_config.locale="en_US"}else if(salesdesk_widget_options.language=="vi"){fb_config.locale="vi_VN"}else if(salesdesk_widget_options.language=="th"){fb_config.locale="th_TH"}else{fb_config.locale="en_US"}
var iframe_src=fb_config.plugin_url+'?href='+salesdesk_widget_options.business.facebook_id+'&tabs=messages&width='+fb_config.width+'&height='+fb_config.height+'&small_header='+fb_config.small_header+'&adapt_container_width='+fb_config.adapt_container_width+'&hide_cover='+fb_config.hide_cover+'&show_facepile='+fb_config.show_facepile+'&locale='+fb_config.locale;var html='<div style="opacity:0;width:'+popup_width+'px;" id="salesdesk_widget_facebook_popup" class="salesdesk-widget-popup-container salesdesk-widget-facebook-popup-container hide">';html+='<div class="salesdesk-widget-icon-close-container salesdesk-form-btn-close" data-action="salesdeskCloseFacebookPopup();"><div class="salesdesk-widget-icon-close"></div></div>';html+='<div class="salesdesk-widget-facebook-popup-header">'+form_label.widget.facebook.form_header+'</div>';html+='<div class="salesdesk-widget-line-popup-sub-header" style="display:none;">'+salesdeskNl2br(form_label.widget.facebook.form_description)+'</div>';html+='<div class="salesdesk-widget-facebook-popup-body">';html+='<div class="salesdesk-widget-display-qr-code"><iframe width="'+fb_config.width+'" height="'+fb_config.height+'" style="border:none; overflow:hidden;" scrolling="no" frameborder="0" allowtransparency="true" src="'+iframe_src+'" data-src="'+iframe_src+'"></iframe><canvas id="salesdesk_facebook_qrcode" style="display:none;"></canvas></div>';html+='</div>';html+='<div class="salesdesk-widget-facebook-popup-footer" style="display:none;"><input type="button" value="'+form_label.widget.facebook.button_open_messenger+'" class="salesdesk-form-btn-action" data-action="salesdeskSaveAction(\'facebook\',\'action\');salesdeskOpenExternalLink(\''+salesdeskGetFacebookUrl()+'\')"></div>';html+='</div>';return html}
function salesdeskOpenFacebookPopup(){salesdeskCloseContactPopup();salesdeskCloseClickToCallPopup();salesdeskShowOverlay();salesdeskPopupPosition("#salesdesk_widget_facebook_popup");jQuerySalesDesk("#salesdesk_widget_facebook_popup").removeClass("hide");jQuerySalesDesk("#salesdesk_widget_facebook_popup").addClass("open");salesdeskSaveAction('facebook','action');setTimeout(function(){var device_height=window.innerHeight;var popup_height=jQuerySalesDesk("#salesdesk_widget_facebook_popup").outerHeight();var popup_width=jQuerySalesDesk("#salesdesk_widget_facebook_popup").outerWidth();var popup_margin_top=-(popup_height/2)+"px";if(popup_height>=device_height&&(salesdesk_device.is_mobile()&&salesdeskViewPort())){popup_margin_top="0px"}
jQuerySalesDesk("#salesdesk_widget_facebook_popup").css({"margin-top":popup_margin_top,"margin-left":(-(popup_width/2))+"px"});jQuerySalesDesk("#salesdesk_widget_facebook_popup").addClass("open");jQuerySalesDesk("#salesdesk_widget_facebook_popup").find("iframe").attr('src',jQuerySalesDesk("#salesdesk_widget_facebook_popup").find("iframe").attr('data-src'))},10)}
function salesdeskCloseFacebookPopup(){salesdeskHideOverlay()}
function salesdeskSetupZaloChat(){var dom=document.getElementById("zalo-chat-widget");if(dom!=null){dom.parentNode.removeChild(dom)}
var zalo_oaid=salesdesk_widget_options.business.zalo_oaid;var zalo_html='<div class="zalo-chat-widget" data-oaid="'+zalo_oaid+'" data-welcome-message="" data-autopopup="0" data-width="350" data-height="420"></div>';jQuerySalesDesk('body').append(zalo_html);jQuerySalesDesk.getScript(salesdesk_widget_options.external_link.zalo_chat,function(data,textStatus,jqxhr){salesdeskMinimizeZaloChat();var minimize_html='<div class="salesdesk-minimize-wrapper" onclick="salesdeskMinimizeZaloChat();"></div>';jQuerySalesDesk(minimize_html).insertAfter(jQuerySalesDesk('#drag-holder'))})}
function salesdeskOpenZaloChat(){var is_opening=salesdeskIsOpenZaloChat();if(is_opening===!0){return!1}
salesdeskSaveAction('zalo','action');jQuerySalesDesk('#drag-holder').trigger('click');jQuerySalesDesk('.zalo-chat-widget').css({"display":"block"})}
function salesdeskIsOpenZaloChat(){var container=jQuerySalesDesk('.zalo-chat-widget');var is_display=container.css('display');if(is_display=='none'){return!1}
var width=container.width();var height=container.height();if(width<=70&&height<=70){return!1}else{return!0}}
function salesdeskMinimizeZaloChat(){jQuerySalesDesk('.zalo-chat-widget').css({"display":"none"});if(salesdesk_widget_options.business.use_contact_code){salesdeskHideOverlay()}}
function salesdeskMenuCollapse(val){if(val){jQuerySalesDesk("#salesdesk_widget_button_group").removeClass('open')}else{jQuerySalesDesk("#salesdesk_widget_button_group").addClass('open')}}
function salesdeskShowOverlay(){jQuerySalesDesk(".salesdesk_widget_overlay").show()}
function salesdeskHideOverlay(){if(salesdesk_skip_close_contact_form==!1){salesdesk_set_popup_width=!0;jQuerySalesDesk(".salesdesk_widget_overlay").hide();jQuerySalesDesk("#salesdesk_widget_contact_popup").addClass("hide");jQuerySalesDesk("#salesdesk_widget_click_to_call_popup").addClass("hide");jQuerySalesDesk("#salesdesk_widget_line_popup").addClass("hide");jQuerySalesDesk("#salesdesk_widget_facebook_popup").addClass("hide");jQuerySalesDesk("#salesdesk_widget_zalo_popup").addClass("hide");jQuerySalesDesk("#salesdesk_widget_google_map_popup").addClass("hide");jQuerySalesDesk("#salesdesk_widget_allow_notification_permission_popup").addClass("hide");jQuerySalesDesk("#salesdesk_widget_desktop_contact_code_popup").addClass("hide");jQuerySalesDesk("#salesdesk_widget_mobile_contact_code_popup").addClass("hide");jQuerySalesDesk("#salesdesk_widget_contact_popup").removeClass("open");jQuerySalesDesk("#salesdesk_widget_click_to_call_popup").removeClass("open");jQuerySalesDesk("#salesdesk_widget_line_popup").removeClass("open");jQuerySalesDesk("#salesdesk_widget_zalo_popup").removeClass("open");jQuerySalesDesk("#salesdesk_widget_google_map_popup").removeClass("open");jQuerySalesDesk("#salesdesk_widget_allow_notification_permission_popup").removeClass("open");jQuerySalesDesk("#salesdesk_widget_desktop_contact_code_popup").removeClass("open");jQuerySalesDesk("#salesdesk_widget_mobile_contact_code_popup").removeClass("open");jQuerySalesDesk('.salesdesk_widget_overlay').css('z-index','3900');jQuerySalesDesk('.zalo-chat-widget').css({"display":"none"});jQuerySalesDesk('#contact_form_timeout_error').css('display','none')}}
function salesdeskScriptLoadHandler(){jQuerySalesDesk=window.jQuery.noConflict();salesdeskLoadSetting()}
function salesdeskLoadSetting(){var salesdesk_request_params={business_id:salesdesk_widget_arguments.business_id}
if(salesdesk_widget_arguments.preview=='true'){salesdesk_request_params.is_preview=!0;if(salesdesk_widget_load_script.options.previewFirstLoad===undefined){salesdesk_widget_load_script.options.previewFirstLoad=!1;salesdeskLoadJS();salesdeskLoadCSS();return!1}}
salesdeskGetDataFromFile(salesdesk_request_params,function(res){salesdesk_widget_options=salesdeskGetOptions(res);if(salesdesk_skip_load_by_gtm){setTimeout(function(){salesdeskCreateWidget()},salesdesk_widget_options.timeout)}else{salesdeskCreateWidget()}})}
function checkBusinessActive(business_id,callback){var params={business_id:business_id};try{var http=new XMLHttpRequest();http.open("POST",widget_server_url+"/api/widget/business/check_active",!0);http.setRequestHeader('Content-Type','application/json');http.onreadystatechange=function(){if(http.readyState===XMLHttpRequest.DONE&&http.status===200){callback.apply(this,[http.responseText])}};http.send(JSON.stringify(params))}catch(err){console.log('error check active')}}
function salesdeskGetDataFromFile(salesdesk_request_params,callback){var salesdesk_business_id=salesdesk_request_params.business_id;var is_preview=salesdesk_request_params.is_preview;var filename='data';var ajax_method="GET";if(is_preview===!0){filename+='-preview';ajax_method="POST"}
try{jQuerySalesDesk.ajax({type:ajax_method,url:widget_server_url+"/business_folder/"+salesdesk_business_id+"/widget/"+filename+".json",dataType:"json",success:callback,global:!1,error:function(){salesdeskGetDataFromServerSide(salesdesk_request_params,callback)}})}catch(err){salesdeskGetDataFromServerSide(salesdesk_request_params,callback)}}
function salesdeskGetDataFromServerSide(salesdesk_request_params,callback){jQuerySalesDesk.ajax({type:'POST',url:widget_server_url+"/api/widget/get/data",dataType:"json",data:salesdesk_request_params,global:!1,success:callback})}
function salesdeskGetServer(server_url){try{if(server_url.indexOf("dev")>=0){return"dev"}else if(server_url.indexOf("staging")>=0){return"staging"}else{return"production"}}catch(err){}}
function salesdeskOpenExternalLink(url){if(url.startsWith("tel:")){window.open(url,"_self")}else{var is_safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(is_safari){window.location.assign(url)}else{window.open(url,'_blank')}}}
function salesdeskGetOptions(custom_option){try{if(custom_option.hasOwnProperty('language')&&custom_option.language!=""){salesdesk_widget_options.language=custom_option.language.toLowerCase()}
salesdesk_widget_options.business.custom_cookie_consent_banner_text=auto_cookie_consent_banner_text[salesdesk_widget_options.language];salesdesk_widget_options.business.custom_cookie_consent_banner_button_text=auto_cookie_consent_banner_button_text[salesdesk_widget_options.language];salesdesk_widget_options.business.custom_cookie_consent_banner_text_bg_color=default_cookie_consent_banner_text_bg_color;salesdesk_widget_options.business.custom_cookie_consent_banner_text_color=default_cookie_consent_banner_text_color;salesdesk_widget_options.business.custom_cookie_consent_banner_button_text_color=default_cookie_consent_banner_button_text_color;salesdesk_widget_options.business.custom_cookie_consent_banner_button_bg_color=default_cookie_consent_banner_button_bg_color;if(custom_option.hasOwnProperty('business_id')){salesdesk_widget_options.business.business_id=custom_option.business_id}
if(custom_option.hasOwnProperty('phone_number')){salesdesk_widget_options.business.phone_number=custom_option.phone_number}
if(custom_option.hasOwnProperty('line_id')){salesdesk_widget_options.business.line_id=custom_option.line_id}
if(custom_option.hasOwnProperty('facebook_id')){salesdesk_widget_options.business.facebook_id=custom_option.facebook_id}
if(custom_option.hasOwnProperty('facebook_name')){salesdesk_widget_options.business.facebook_name=custom_option.facebook_name}
if(custom_option.hasOwnProperty('facebook_url')){salesdesk_widget_options.business.facebook_url=custom_option.facebook_url}
if(custom_option.hasOwnProperty('whatsapp_id')){salesdesk_widget_options.business.whatsapp_id=custom_option.whatsapp_id}
if(custom_option.hasOwnProperty('skype_id')){salesdesk_widget_options.business.skype_id=custom_option.skype_id}
if(custom_option.hasOwnProperty('zalo_oaid')){salesdesk_widget_options.business.zalo_oaid=custom_option.zalo_oaid}
if(custom_option.hasOwnProperty('google_map')){if(custom_option.google_map.hasOwnProperty('zoom')){salesdesk_widget_options.business.google_map.zoom=custom_option.google_map.zoom}
if(custom_option.google_map.hasOwnProperty('lat')){salesdesk_widget_options.business.google_map.lat=custom_option.google_map.lat}
if(custom_option.google_map.hasOwnProperty('lng')){salesdesk_widget_options.business.google_map.lng=custom_option.google_map.lng}}
if(custom_option.hasOwnProperty('fb_pixel')){if(custom_option.fb_pixel.hasOwnProperty('code')){salesdesk_widget_options.business.fb_pixel.code=custom_option.fb_pixel.code}}
if(custom_option.hasOwnProperty('use_tracking')&&custom_option.use_tracking!=""){salesdesk_widget_options.business.use_tracking=custom_option.use_tracking;salesdesk_widget_options.business.use_tracking_backup=custom_option.use_tracking}
if(custom_option.hasOwnProperty('use_attach_file')&&custom_option.use_attach_file!=undefined){salesdesk_widget_options.business.use_attach_file=salesdeskConvertStringToBoolean(custom_option.use_attach_file)}
if(custom_option.hasOwnProperty('use_geolocation')&&custom_option.use_geolocation!=undefined){salesdesk_widget_options.business.use_geolocation=salesdeskConvertStringToBoolean(custom_option.use_geolocation)}
if(custom_option.hasOwnProperty('use_contact_code')&&custom_option.use_contact_code!=undefined){salesdesk_widget_options.business.use_contact_code=salesdeskConvertStringToBoolean(custom_option.use_contact_code)}
if(custom_option.hasOwnProperty('use_facebook_retargeting')&&custom_option.use_facebook_retargeting!=undefined){salesdesk_widget_options.business.use_facebook_retargeting=salesdeskConvertStringToBoolean(custom_option.use_facebook_retargeting)}
if(custom_option.hasOwnProperty('use_cookie_consent_banner')&&custom_option.use_cookie_consent_banner!=undefined){salesdesk_widget_options.business.use_cookie_consent_banner=salesdeskConvertStringToBoolean(custom_option.use_cookie_consent_banner);if(custom_option.hasOwnProperty('cookie_consent_banner_display_style')&&custom_option.use_cookie_consent_banner!=undefined){if(custom_option.cookie_consent_banner_display_style){salesdesk_widget_options.business.cookie_consent_banner_display_style=custom_option.cookie_consent_banner_display_style}else{salesdesk_widget_options.business.cookie_consent_banner_display_style='bar_bottom'}}else{salesdesk_widget_options.business.cookie_consent_banner_display_style='bar_bottom'}}
if(custom_option.hasOwnProperty('use_custom_cookie_consent_banner')&&custom_option.use_custom_cookie_consent_banner!=undefined){salesdesk_widget_options.business.use_custom_cookie_consent_banner=salesdeskConvertStringToBoolean(custom_option.use_custom_cookie_consent_banner)}
if(salesdesk_widget_options.business.use_custom_cookie_consent_banner){if(custom_option.hasOwnProperty('custom_cookie_consent_banner_text')&&custom_option.custom_cookie_consent_banner_text!=undefined){var txt=document.createElement("textarea");txt.innerHTML=custom_option.custom_cookie_consent_banner_text;if(txt.value.startsWith("<p>")&&txt.value.endsWith("</p>")){txt.value=txt.value.slice(3);txt.value=txt.value.slice(0,txt.value.length-4)}
salesdesk_widget_options.business.custom_cookie_consent_banner_text=txt.value}
if(custom_option.hasOwnProperty('custom_cookie_consent_banner_text_color')&&custom_option.custom_cookie_consent_banner_text_color!=undefined){salesdesk_widget_options.business.custom_cookie_consent_banner_text_color=custom_option.custom_cookie_consent_banner_text_color}
if(custom_option.hasOwnProperty('custom_cookie_consent_banner_text_bg_color')&&custom_option.custom_cookie_consent_banner_text_bg_color!=undefined){salesdesk_widget_options.business.custom_cookie_consent_banner_text_bg_color=custom_option.custom_cookie_consent_banner_text_bg_color}
if(custom_option.hasOwnProperty('custom_cookie_consent_banner_button_text')&&custom_option.custom_cookie_consent_banner_button_text!=undefined){salesdesk_widget_options.business.custom_cookie_consent_banner_button_text=custom_option.custom_cookie_consent_banner_button_text}
if(custom_option.hasOwnProperty('custom_cookie_consent_banner_button_text_color')&&custom_option.custom_cookie_consent_banner_button_text_color!=undefined){salesdesk_widget_options.business.custom_cookie_consent_banner_button_text_color=custom_option.custom_cookie_consent_banner_button_text_color}
if(custom_option.hasOwnProperty('custom_cookie_consent_banner_button_bg_color')&&custom_option.custom_cookie_consent_banner_button_bg_color!=undefined){salesdesk_widget_options.business.custom_cookie_consent_banner_button_bg_color=custom_option.custom_cookie_consent_banner_button_bg_color}}
if(custom_option.hasOwnProperty('use_retargeting')&&custom_option.use_retargeting!=undefined){salesdesk_widget_options.business.use_retargeting=salesdeskConvertStringToBoolean(custom_option.use_retargeting)}
if(custom_option.hasOwnProperty('use_r_chat')&&custom_option.use_r_chat!=undefined){salesdesk_widget_options.business.use_r_chat=salesdeskConvertStringToBoolean(custom_option.use_r_chat)}
if(custom_option.hasOwnProperty('use_push_notification')&&custom_option.use_push_notification!=undefined){salesdesk_widget_options.business.use_push_notification=salesdeskConvertStringToBoolean(custom_option.use_push_notification)}
if(custom_option.hasOwnProperty('show_widget')&&custom_option.show_widget!=undefined){salesdesk_widget_options.business.show_widget=salesdeskConvertStringToBoolean(custom_option.show_widget)}
if(custom_option.hasOwnProperty('use_button_pulse_effect')&&custom_option.use_button_pulse_effect){salesdesk_widget_options.business.use_button_pulse_effect=salesdeskConvertStringToBoolean(custom_option.use_button_pulse_effect)}
if(custom_option.hasOwnProperty('button_menu')){if(custom_option.button_menu.hasOwnProperty('display_text')){salesdesk_widget_options.button_menu.display_text=custom_option.button_menu.display_text}
if(custom_option.button_menu.hasOwnProperty('display_tooltip')){salesdesk_widget_options.button_menu.display_tooltip=custom_option.button_menu.display_tooltip}
if(custom_option.button_menu.hasOwnProperty('background_color')){salesdesk_widget_options.button_menu.background_color=custom_option.button_menu.background_color}
if(custom_option.button_menu.hasOwnProperty('display_shadow')){salesdesk_widget_options.button_menu.display_shadow=custom_option.button_menu.display_shadow}
if(custom_option.button_menu.hasOwnProperty('display_background_blur')){salesdesk_widget_options.button_menu.display_background_blur=custom_option.button_menu.display_background_blur}
if(custom_option.button_menu.hasOwnProperty('display_position_name')){salesdesk_widget_options.position.name=custom_option.button_menu.display_position_name}
if(custom_option.button_menu.hasOwnProperty('display_position_custom')){salesdesk_widget_options.position.custom=custom_option.button_menu.display_position_custom}
if(custom_option.button_menu.hasOwnProperty('tooltip_background_color')){if(custom_option.button_menu.hasOwnProperty('tooltip_background_color_update')||salesdeskConvertStringToBoolean(custom_option.is_preview)){salesdesk_widget_options.button_menu.tooltip_background_color=custom_option.button_menu.tooltip_background_color}else{salesdesk_widget_options.button_menu.tooltip_background_color=editTooltipBgColor(custom_option.button_menu.tooltip_background_color)}}
if(custom_option.button_menu.hasOwnProperty('text_color')){salesdesk_widget_options.button_menu.text_color=custom_option.button_menu.text_color}
if(custom_option.button_menu.hasOwnProperty('style_of_widget')){salesdesk_widget_options.button_menu.style_of_widget=custom_option.button_menu.style_of_widget}else{salesdesk_widget_options.button_menu.style_of_widget='classic'}
if(custom_option.button_menu.hasOwnProperty('custom_style_of_widget')){salesdesk_widget_options.button_menu.custom_style_of_widget=salesdeskConvertStringToBoolean(custom_option.button_menu.custom_style_of_widget)}else{salesdesk_widget_options.button_menu.custom_style_of_widget=!1}}
if(custom_option.hasOwnProperty('is_preview')){salesdesk_widget_options.is_preview=salesdeskConvertStringToBoolean(custom_option.is_preview)}
if(custom_option.hasOwnProperty('language')&&custom_option.language!=""){salesdesk_widget_options.language=custom_option.language.toLowerCase()}
if(custom_option.hasOwnProperty('timeout')&&custom_option.timeout!=""){salesdesk_widget_options.timeout=parseInt(custom_option.timeout)}
if(custom_option.hasOwnProperty('tracking_config')){var lang=salesdeskGetLanguage();if(custom_option.tracking_config.hasOwnProperty('contact_form')){if(custom_option.tracking_config.contact_form.hasOwnProperty('form_header')&&custom_option.tracking_config.contact_form.form_header!=""){salesdesk_widget_form_label[lang].widget.contact_form.form_header=custom_option.tracking_config.contact_form.form_header}
if(custom_option.tracking_config.contact_form.hasOwnProperty('form_description')&&custom_option.tracking_config.contact_form.form_description!=""){salesdesk_widget_form_label[lang].widget.contact_form.form_description=custom_option.tracking_config.contact_form.form_description}
if(custom_option.tracking_config.contact_form.hasOwnProperty('button_action_name')&&custom_option.tracking_config.contact_form.button_action_name!=""){salesdesk_widget_form_label[lang].widget.contact_form.button_action_name=custom_option.tracking_config.contact_form.button_action_name}
if(custom_option.tracking_config.contact_form.hasOwnProperty('thank_you_message')&&custom_option.tracking_config.contact_form.thank_you_message!=""){salesdesk_widget_form_label[lang].thank_you=custom_option.tracking_config.contact_form.thank_you_message}
if(custom_option.tracking_config.contact_form.hasOwnProperty('use_contact_form_privacy_policy_consent')&&custom_option.tracking_config.contact_form.use_contact_form_privacy_policy_consent!=undefined){salesdesk_widget_options.business.use_contact_form_privacy_policy_consent=salesdeskConvertStringToBoolean(custom_option.tracking_config.contact_form.use_contact_form_privacy_policy_consent);if(custom_option.tracking_config.contact_form.hasOwnProperty('use_custom_contact_form_privacy_policy_consent')&&custom_option.tracking_config.contact_form.use_custom_contact_form_privacy_policy_consent!=undefined){salesdesk_widget_options.business.use_custom_contact_form_privacy_policy_consent=salesdeskConvertStringToBoolean(custom_option.tracking_config.contact_form.use_custom_contact_form_privacy_policy_consent);if(salesdesk_widget_options.business.use_custom_contact_form_privacy_policy_consent){salesdesk_widget_options.business.custom_contact_form_privacy_policy_consent_text_link=custom_option.tracking_config.contact_form.custom_contact_form_privacy_policy_consent_text_link}}}else if(custom_option.hasOwnProperty('use_custom_contact_form_privacy_policy_consent')&&custom_option.tracking_config.contact_form.use_custom_contact_form_privacy_policy_consent!=undefined){salesdesk_widget_options.business.use_contact_form_privacy_policy_consent=salesdeskConvertStringToBoolean(custom_option.tracking_config.contact_form.use_contact_form_privacy_policy_consent);salesdesk_widget_options.business.use_custom_contact_form_privacy_policy_consent=salesdeskConvertStringToBoolean(custom_option.tracking_config.contact_form.use_custom_contact_form_privacy_policy_consent);if(salesdesk_widget_options.business.use_custom_contact_form_privacy_policy_consent){salesdesk_widget_options.business.custom_contact_form_privacy_policy_consent_text_link=custom_option.tracking_config.contact_form.custom_contact_form_privacy_policy_consent_text_link}}else{salesdesk_widget_options.business.use_contact_form_privacy_policy_consent=!0;salesdesk_widget_options.business.use_custom_contact_form_privacy_policy_consent=!1}}
if(custom_option.tracking_config.hasOwnProperty('click_to_call')){if(custom_option.tracking_config.click_to_call.hasOwnProperty('form_header')&&custom_option.tracking_config.click_to_call.form_header!=""){salesdesk_widget_form_label[lang].widget.click_to_call.form_header=custom_option.tracking_config.click_to_call.form_header}
if(custom_option.tracking_config.click_to_call.hasOwnProperty('form_description')&&custom_option.tracking_config.click_to_call.form_description!=""){salesdesk_widget_form_label[lang].widget.click_to_call.form_description=custom_option.tracking_config.click_to_call.form_description}
if(custom_option.tracking_config.click_to_call.hasOwnProperty('button_action_name')&&custom_option.tracking_config.click_to_call.button_action_name!=""){salesdesk_widget_form_label[lang].widget.click_to_call.button_action_name=custom_option.tracking_config.click_to_call.button_action_name}
if(custom_option.tracking_config.click_to_call.hasOwnProperty('button_call')&&custom_option.tracking_config.click_to_call.button_call!=""){salesdesk_widget_form_label[lang].widget.click_to_call.button_call=custom_option.tracking_config.click_to_call.button_call}}
if(custom_option.tracking_config.hasOwnProperty('line')){if(custom_option.tracking_config.line.hasOwnProperty('form_header')&&custom_option.tracking_config.line.form_header!=""){salesdesk_widget_form_label[lang].widget.line.form_header=custom_option.tracking_config.line.form_header}
if(custom_option.tracking_config.line.hasOwnProperty('form_description')&&custom_option.tracking_config.line.form_description!=""){salesdesk_widget_form_label[lang].widget.line.form_description=custom_option.tracking_config.line.form_description}
if(custom_option.tracking_config.line.hasOwnProperty('button_action_name')&&custom_option.tracking_config.line.button_action_name!=""){salesdesk_widget_form_label[lang].widget.line.button_action_name=custom_option.tracking_config.line.button_action_name}
if(custom_option.tracking_config.line.hasOwnProperty('button_add_friend')&&custom_option.tracking_config.line.button_add_friend!=""){salesdesk_widget_form_label[lang].widget.line.button_add_friend=custom_option.tracking_config.line.button_add_friend}}
if(custom_option.tracking_config.hasOwnProperty('facebook')){if(custom_option.tracking_config.facebook.hasOwnProperty('form_header')&&custom_option.tracking_config.facebook.form_header!=""){salesdesk_widget_form_label[lang].widget.facebook.form_header=custom_option.tracking_config.facebook.form_header}
if(custom_option.tracking_config.facebook.hasOwnProperty('form_description')&&custom_option.tracking_config.facebook.form_description!=""){salesdesk_widget_form_label[lang].widget.facebook.form_description=custom_option.tracking_config.facebook.form_description}
if(custom_option.tracking_config.facebook.hasOwnProperty('button_action_name')&&custom_option.tracking_config.facebook.button_action_name!=""){salesdesk_widget_form_label[lang].widget.facebook.button_action_name=custom_option.tracking_config.facebook.button_action_name}
if(custom_option.tracking_config.facebook.hasOwnProperty('button_open_messenger')&&custom_option.tracking_config.facebook.button_open_messenger!=""){salesdesk_widget_form_label[lang].widget.facebook.button_open_messenger=custom_option.tracking_config.facebook.button_open_messenger}
if(custom_option.tracking_config.facebook.hasOwnProperty('chat_type')&&custom_option.tracking_config.facebook.chat_type!=""){salesdesk_widget_options.facebook_chat_type=custom_option.tracking_config.facebook.chat_type}}
if(custom_option.tracking_config.hasOwnProperty('google_map')){if(custom_option.tracking_config.google_map.hasOwnProperty('form_header')&&custom_option.tracking_config.google_map.form_header!=""){salesdesk_widget_form_label[lang].widget.google_map.form_header=custom_option.tracking_config.google_map.form_header}
if(custom_option.tracking_config.google_map.hasOwnProperty('form_description')&&custom_option.tracking_config.google_map.form_description!=""){salesdesk_widget_form_label[lang].widget.google_map.form_description=custom_option.tracking_config.google_map.form_description}
if(custom_option.tracking_config.google_map.hasOwnProperty('button_action_name')&&custom_option.tracking_config.google_map.button_action_name!=""){salesdesk_widget_form_label[lang].widget.google_map.button_action_name=custom_option.tracking_config.google_map.button_action_name}}
if(custom_option.tracking_config.hasOwnProperty('whatsapp')){if(custom_option.tracking_config.whatsapp.hasOwnProperty('form_header')&&custom_option.tracking_config.whatsapp.form_header!=""){salesdesk_widget_form_label[lang].widget.whatsapp.form_header=custom_option.tracking_config.whatsapp.form_header}
if(custom_option.tracking_config.whatsapp.hasOwnProperty('form_description')&&custom_option.tracking_config.whatsapp.form_description!=""){salesdesk_widget_form_label[lang].widget.whatsapp.form_description=custom_option.tracking_config.whatsapp.form_description}
if(custom_option.tracking_config.whatsapp.hasOwnProperty('button_action_name')&&custom_option.tracking_config.whatsapp.button_action_name!=""){salesdesk_widget_form_label[lang].widget.whatsapp.button_action_name=custom_option.tracking_config.whatsapp.button_action_name}}
if(custom_option.tracking_config.hasOwnProperty('skype')){if(custom_option.tracking_config.skype.hasOwnProperty('form_header')&&custom_option.tracking_config.skype.form_header!=""){salesdesk_widget_form_label[lang].widget.skype.form_header=custom_option.tracking_config.skype.form_header}
if(custom_option.tracking_config.skype.hasOwnProperty('form_description')&&custom_option.tracking_config.skype.form_description!=""){salesdesk_widget_form_label[lang].widget.skype.form_description=custom_option.tracking_config.skype.form_description}
if(custom_option.tracking_config.skype.hasOwnProperty('button_action_name')&&custom_option.tracking_config.skype.button_action_name!=""){salesdesk_widget_form_label[lang].widget.skype.button_action_name=custom_option.tracking_config.skype.button_action_name}}
if(custom_option.tracking_config.hasOwnProperty('r_chat')){if(custom_option.tracking_config.r_chat.hasOwnProperty('form_header')&&custom_option.tracking_config.r_chat.form_header!=""){salesdesk_widget_form_label[lang].widget.r_chat.form_header=custom_option.tracking_config.r_chat.form_header}
if(custom_option.tracking_config.r_chat.hasOwnProperty('form_description')&&custom_option.tracking_config.r_chat.form_description!=""){salesdesk_widget_form_label[lang].widget.r_chat.form_description=custom_option.tracking_config.r_chat.form_description}
if(custom_option.tracking_config.r_chat.hasOwnProperty('button_action_name')&&custom_option.tracking_config.r_chat.button_action_name!=""){salesdesk_widget_form_label[lang].widget.r_chat.button_action_name=custom_option.tracking_config.r_chat.button_action_name}}
if(custom_option.tracking_config.hasOwnProperty('callback')){if(custom_option.tracking_config.callback.hasOwnProperty('form_name')&&custom_option.tracking_config.callback.form_name!=""){salesdesk_widget_form_label[lang].widget.callback.form_name=custom_option.tracking_config.callback.form_name}
if(custom_option.tracking_config.callback.hasOwnProperty('form_header')&&custom_option.tracking_config.callback.form_header!=""){salesdesk_widget_form_label[lang].widget.callback.form_header=custom_option.tracking_config.callback.form_header}
if(custom_option.tracking_config.callback.hasOwnProperty('button_submit_name')&&custom_option.tracking_config.callback.button_submit_name!=""){salesdesk_widget_form_label[lang].widget.callback.button_submit_name=custom_option.tracking_config.callback.button_submit_name}
if(custom_option.tracking_config.callback.hasOwnProperty('thank_you_message')&&custom_option.tracking_config.callback.thank_you_message!=""){salesdesk_widget_form_label[lang].widget.callback.thank_you_message=custom_option.tracking_config.callback.thank_you_message}
if(custom_option.tracking_config.callback.hasOwnProperty('use_callback_privacy_policy_consent')&&custom_option.tracking_config.callback.use_callback_privacy_policy_consent!=undefined){salesdesk_widget_options.business.use_callback_privacy_policy_consent=salesdeskConvertStringToBoolean(custom_option.tracking_config.callback.use_callback_privacy_policy_consent);if(custom_option.tracking_config.callback.hasOwnProperty('use_custom_callback_privacy_policy_consent')&&custom_option.tracking_config.callback.use_custom_callback_privacy_policy_consent!=undefined){salesdesk_widget_options.business.use_custom_callback_privacy_policy_consent=salesdeskConvertStringToBoolean(custom_option.tracking_config.callback.use_custom_callback_privacy_policy_consent);if(salesdesk_widget_options.business.use_custom_callback_privacy_policy_consent){salesdesk_widget_options.business.custom_callback_privacy_policy_consent_link=custom_option.tracking_config.callback.custom_callback_privacy_policy_consent_link}}}else if(custom_option.hasOwnProperty('use_custom_callback_privacy_policy_consent')&&custom_option.use_custom_callback_privacy_policy_consent!=undefined){salesdesk_widget_options.business.use_callback_privacy_policy_consent=salesdeskConvertStringToBoolean(custom_option.use_callback_privacy_policy_consent);salesdesk_widget_options.business.use_custom_callback_privacy_policy_consent=salesdeskConvertStringToBoolean(custom_option.tracking_config.callback.use_custom_callback_privacy_policy_consent);if(salesdesk_widget_options.business.use_custom_callback_privacy_policy_consent){salesdesk_widget_options.business.custom_callback_privacy_policy_consent_link=custom_option.tracking_config.callback.custom_callback_privacy_policy_consent_link}}else{salesdesk_widget_options.business.use_callback_privacy_policy_consent=!0;salesdesk_widget_options.business.use_custom_callback_privacy_policy_consent=!1}
if(custom_option.tracking_config.callback.hasOwnProperty('subject_type')&&custom_option.tracking_config.callback.subject_type=="custom"&&custom_option.tracking_config.callback.hasOwnProperty('subject_custom_options')&&custom_option.tracking_config.callback.subject_custom_options.length>0){salesdesk_widget_form_label[lang].widget.callback.subject_custom_options=custom_option.tracking_config.callback.subject_custom_options.split(",")}else{salesdesk_widget_form_label[lang].widget.callback.subject_custom_options=salesdesk_widget_form_label[lang].call_back_list}}
if(custom_option.tracking_config.hasOwnProperty('zalo')){if(custom_option.tracking_config.zalo.hasOwnProperty('form_header')&&custom_option.tracking_config.zalo.form_header!=""){salesdesk_widget_form_label[lang].widget.zalo.form_header=custom_option.tracking_config.zalo.form_header}
if(custom_option.tracking_config.zalo.hasOwnProperty('form_description')&&custom_option.tracking_config.zalo.form_description!=""){salesdesk_widget_form_label[lang].widget.zalo.form_description=custom_option.tracking_config.zalo.form_description}
if(custom_option.tracking_config.zalo.hasOwnProperty('button_action_name')&&custom_option.tracking_config.zalo.button_action_name!=""){salesdesk_widget_form_label[lang].widget.zalo.button_action_name=custom_option.tracking_config.zalo.button_action_name}}}
if(custom_option.hasOwnProperty('display')){salesdesk_widget_options.display=custom_option.display}else{}
if(custom_option.hasOwnProperty('capital_timezone')&&custom_option.capital_timezone!=undefined){salesdesk_widget_options.capital_timezone=custom_option.capital_timezone}else{salesdesk_widget_options.capital_timezone='+07:00'}
if(custom_option.hasOwnProperty('promotion_popups')){var check_promotion_date=new Date();var year=check_promotion_date.getFullYear();var month=check_promotion_date.getMonth()+1;var date=check_promotion_date.getDate();if(month<=9){month="0"+month}
if(date<=9){date="0"+date}
check_promotion_date=Date.parse(year+"-"+month+"-"+date);var promotion_popup_temp="";custom_option.promotion_popups.forEach(function(promotion_popup){if(Date.parse(promotion_popup.start_date)<=check_promotion_date&&check_promotion_date<=Date.parse(promotion_popup.end_date)){promotion_popup_temp=promotion_popup}})
if(promotion_popup_temp!=""){var promotion_popup={token:promotion_popup_temp.token,start_date:promotion_popup_temp.start_date,end_date:promotion_popup_temp.end_date,layout_no:promotion_popup_temp.layout_no,desktop_image:promotion_popup_temp.desktop_image,mobile_image:promotion_popup_temp.mobile_image,action_type:promotion_popup_temp.action_type,web_page_url:promotion_popup_temp.web_page_url,close_color:promotion_popup_temp.close_color,overlay_color:promotion_popup_temp.overlay_color,timing_type:promotion_popup_temp.timing_type,time:promotion_popup_temp.time}
if(promotion_popup_temp.hasOwnProperty('text')){promotion_popup.text=promotion_popup_temp.text}
if(promotion_popup_temp.hasOwnProperty('button_text')){promotion_popup.button_text=promotion_popup_temp.button_text}
if(promotion_popup_temp.hasOwnProperty('button_text_color')){promotion_popup.button_text_color=promotion_popup_temp.button_text_color}
if(promotion_popup_temp.hasOwnProperty('button_bg_color')){promotion_popup.button_bg_color=promotion_popup_temp.button_bg_color}
if(promotion_popup_temp.hasOwnProperty('button_position')){promotion_popup.button_position=promotion_popup_temp.button_position}
if(promotion_popup_temp.hasOwnProperty('frame_color')){promotion_popup.frame_color=promotion_popup_temp.frame_color}
if(!promotion_popup_temp.hasOwnProperty('time')||promotion_popup_temp.time==''||promotion_popup_temp.time==null||promotion_popup_temp.time=='null'){promotion_popup.time="5"}
if(!promotion_popup_temp.hasOwnProperty('timing_type')||promotion_popup_temp.timing_type==''||promotion_popup_temp.timing_type==null||promotion_popup_temp.timing_type=='null'){promotion_popup.timing_type="after_time"}
salesdesk_widget_options.promotion_popup=promotion_popup}}
if(custom_option.hasOwnProperty('promotion_popup_powered_by')&&custom_option.promotion_popup_powered_by!=undefined){salesdesk_widget_options.promotion_popup_powered_by=custom_option.promotion_popup_powered_by}else{salesdesk_widget_options.promotion_popup_powered_by=!1}
salesdeskSetClientParams();return salesdesk_widget_options}catch(err){}}
function editTooltipBgColor(rgba_color_str){var rgba_color_str_mod=rgba_color_str.replace(/\s/g,"");rgba_color_str_mod=rgba_color_str_mod.substring(5,rgba_color_str_mod.length-1);var rgba_color_arr=rgba_color_str_mod.split(",");var r=rgba_color_arr[0];var g=rgba_color_arr[1];var b=rgba_color_arr[2];var a=rgba_color_arr[3];return'rgba('+r+','+g+','+b+',0.5)'}
function salesdeskLoadCSS(){try{if(salesdesk_widget_server_name=="dev"){var dot_min=""}else{var dot_min=".min"}
if(salesdesk_widget_arguments.preview=='true'){var css=[widget_server_url+"/widget/css/main"+dot_min+".css?v="+salesdesk_widget_options.version,widget_server_url+"/widget/css/classic"+dot_min+".css?v="+salesdesk_widget_options.version,widget_server_url+"/widget/css/modern"+dot_min+".css?v="+salesdesk_widget_options.version,widget_server_url+"/widget/css/cookie_consent_banner"+dot_min+".css?v="+salesdesk_widget_options.version,widget_server_url+"/widget/css/privacy_policy_consent"+dot_min+".css?v="+salesdesk_widget_options.version,widget_server_url+"/widget/css/promotion_popup"+dot_min+".css?v="+salesdesk_widget_options.version]}else{var css=[widget_server_url+"/widget/css/main"+dot_min+".css?v="+salesdesk_widget_options.version];if(salesdesk_widget_options.button_menu.style_of_widget=="modern"){css.push(widget_server_url+"/widget/css/modern"+dot_min+".css?v="+salesdesk_widget_options.version)}else{css.push(widget_server_url+"/widget/css/classic"+dot_min+".css?v="+salesdesk_widget_options.version)}
if(salesdesk_widget_options.business.use_cookie_consent_banner){css.push(widget_server_url+"/widget/css/cookie_consent_banner"+dot_min+".css?v="+salesdesk_widget_options.version)}
if(salesdeskCheckChannelId('callback')===!0||salesdeskCheckChannelId('contact_form')===!0){css.push(widget_server_url+"/widget/css/privacy_policy_consent"+dot_min+".css?v="+salesdesk_widget_options.version)}
if(salesdesk_widget_options.promotion_popup!=""){css.push(widget_server_url+"/widget/css/promotion_popup"+dot_min+".css?v="+salesdesk_widget_options.version)}}
for(var i=0;i<css.length;i++){jQuerySalesDesk("<link>",{rel:"preload",as:"style",href:css[i]}).appendTo('head')}
for(var i=0;i<css.length;i++){jQuerySalesDesk("<link>",{rel:"stylesheet",type:"text/css",href:css[i]}).appendTo('head')}}catch(err){}}
function salesdeskLoadJS(){try{var js=[];var script_tag;for(var i=0;i<js.length;i++){script_tag=document.createElement('script');script_tag.setAttribute("type","text/javascript");script_tag.setAttribute("src",js[i]+"?v="+salesdesk_widget_options.version);(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(script_tag)}}catch(err){}}
function salesdeskLoadScriptRChat(salesdesk_custom_tooltip_background,salesdesk_widget_channel_id,button_text){try{if(salesdesk_widget_server_name=='dev'){jQuerySalesDesk.getScript(widget_server_url+"/widget/channel_r_chat.js",function(){initChannelRchat(salesdesk_custom_tooltip_background,salesdesk_widget_channel_id,button_text)})}else{jQuerySalesDesk.getScript(widget_server_url+"/widget/channel_r_chat.min.js",function(){initChannelRchat(salesdesk_custom_tooltip_background,salesdesk_widget_channel_id,button_text)})}}catch(err){}}
function salesdeskViewPort(){try{var viewport=document.querySelector('meta[name=viewport]');if(viewport===null){return!1}else{return!0}}catch(err){}}
function salesdeskMetaTag(){try{var viewport=document.querySelector('meta[name=viewport]');var viewportContent='width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=0';if(viewport===null){var head=document.getElementsByTagName('head')[0];viewport=document.createElement('meta');viewport.setAttribute('name','viewport');head.appendChild(viewport)}
viewport.setAttribute('content',viewportContent)}catch(err){}}
function salesdeskGetURLParameter(sParam){try{var sPageURL=window.location.search.substring(1);var sURLVariables=sPageURL.split('&');for(var i=0;i<sURLVariables.length;i++){var sParameterName=sURLVariables[i].split('=');if(sParameterName[0]==sParam){return sParameterName[1]}}
return''}catch(err){}}
function salesdeskGeoLocationResponse(pos){try{salesdesk_widget_client_params.geolocation={latitude:pos.coords.latitude,longitude:pos.coords.longitude,}}catch(err){}}
function salesdeskGetGeoLocation(){try{var geolocation_data={};if(navigator.geolocation&&salesdesk_widget_options.business.use_geolocation==!0){navigator.geolocation.getCurrentPosition(salesdeskGeoLocationResponse)}
return geolocation_data}catch(err){}}
function salesdeskSetClientParams(){try{salesdeskSetReferrer();salesdeskGetGeoLocation(salesdeskGeoLocationResponse);salesdesk_widget_client_params.gclid=salesdeskGetGclid();salesdesk_widget_client_params.utm_source=salesdeskGetURLParameter('utm_source');salesdesk_widget_client_params.utm_medium=salesdeskGetURLParameter('utm_medium');salesdesk_widget_client_params.utm_campaign=salesdeskGetURLParameter('utm_campaign');salesdesk_widget_client_params.website_url=window.location.href;salesdesk_widget_client_params.referrer_url=salesdeskGetReferrer();salesdesk_widget_client_params.fbclid=salesdeskGetFBclid()}catch(err){}}
function salesdeskGetReferrer(){try{var referrer=salesdeskGetSessionStorage('salesdesk_referrer');return(referrer===null)?"":referrer}catch(err){}}
function salesdeskSetReferrer(){try{var referrer=document.referrer;if(referrer!==undefined&&salesdeskGetReferrer()==""){salesdeskSetSessionStorage('salesdesk_referrer',document.referrer)}}catch(err){}}
function salesdeskGetGclid(){try{var gclid=salesdeskGetURLParameter('gclid');if(gclid!=''){salesdeskSetCookie('salesdesk_session_gclid',gclid,salesdesk_session_expiry,"/")}else{gclid=salesdeskGetCookie('salesdesk_session_gclid')}
if(gclid==null){gclid=""}
return gclid}catch(err){}}
function salesdeskGetFBclid(){try{var fbclid=salesdeskGetURLParameter('fbclid');return fbclid}catch(err){}}
function salesdeskGetCookieVal(offset){var endstr=document.cookie.indexOf(";",offset);if(endstr==-1){endstr=document.cookie.length}
return unescape(document.cookie.substring(offset,endstr))}
function salesdeskGetCookie(name){var arg=name+"=";var alen=arg.length;var clen=document.cookie.length;var i=0;while(i<clen){var j=i+alen;if(document.cookie.substring(i,j)==arg){return salesdeskGetCookieVal(j)}
i=document.cookie.indexOf(" ",i)+1;if(i==0)break}
return null}
function salesdeskDeleteCookie(name,path,domain){if(salesdeskGetCookie(name)){document.cookie=name+"="+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT"}}
var salesdesk_session_today=new Date();var salesdesk_session_expiry=new Date(salesdesk_session_today.getTime()+30*24*60*60*1000);function salesdeskSetCookie(name,value,expires,path,domain){document.cookie=name+"="+escape(value)+((expires)?"; expires="+expires.toGMTString():"")+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")}
function salesdeskSetSessionStorage(key,value){try{if(typeof(Storage)!==undefined){if(value!==undefined){sessionStorage.setItem(key,value)}}}catch(err){}}
function salesdeskGetSessionStorage(key){try{if(typeof(Storage)!==undefined){var value=sessionStorage.getItem(key);if(value===undefined){value=''}
return value}else{return''}}catch(err){}}
function salesdeskGetElementWidth(element_id){try{var height=jQuerySalesDesk(element_id).outerWidth();return height}catch(err){}}
function salesdeskGetElementHeight(element_id){try{var height=jQuerySalesDesk(element_id).outerHeight();return height}catch(err){}}
function salesdeskGetWhatsAppUrl(){try{if(salesdesk_device.is_mobile()){return salesdesk_widget_options.external_link.whatsapp_mobile+salesdesk_widget_options.business.whatsapp_id}else{return salesdesk_widget_options.external_link.whatsapp_desktop+salesdesk_widget_options.business.whatsapp_id}}catch(err){}}
function salesdeskGetSkypeUrl(){try{return"skype:"+salesdesk_widget_options.business.skype_id+"?chat"}catch(err){}}
function salesdeskGetLineUrl(){try{if(salesdesk_widget_options.business.line_id.indexOf("%40")==-1&&salesdesk_widget_options.business.line_id.indexOf("@")==-1){return salesdesk_widget_options.external_link.line+salesdesk_widget_options.business.line_id}else{return salesdesk_widget_options.external_link.line_ad+salesdesk_widget_options.business.line_id}}catch(err){}}
function salesdeskGetFacebookUrl(){try{if(salesdesk_widget_options.business.facebook_name!=""){return salesdesk_widget_options.external_link.facebook+salesdesk_widget_options.business.facebook_name}else{return salesdesk_widget_options.external_link.facebook+salesdesk_widget_options.business.facebook_id}}catch(err){}}
function salesdeskGetLanguage(){try{return salesdesk_widget_options.language.toLowerCase()}catch(err){}}
function salesdeskGetFormLabel(){try{return salesdesk_widget_form_label[salesdeskGetLanguage()]}catch(err){}}
function salesdeskGetFormErrorMessage(){try{return salesdesk_widget_form_error_message[salesdeskGetLanguage()]}catch(err){}}
function salesdeskSetZindex(element_id){var index_highest=0;jQuerySalesDesk("*").each(function(){var index_current=parseInt(jQuerySalesDesk(this).css("zIndex"),10);if(index_current>index_highest){index_highest=index_current}});jQuerySalesDesk(element_id).css({'z-index':index_highest+1})}
function salesdeskGetBrightness(rgba){var rgb=rgba.replace(" ","");var luminance=0;rgb=rgb.match(/\d+/g);if(Array.isArray(rgb)){luminance=(rgb[0]*299+rgb[1]*587+rgb[2]*114)/1000}
if(luminance<128){return'dark'}else{return'light'}}
function salesdeskNl2br(str,is_xhtml){if(typeof str==='undefined'||str===null){return''}
str=str.replace(/&lt;br&gt;/mg,"\n");str=str.replace(/\\n/mg,"\n");var break_tag=(is_xhtml||typeof is_xhtml==='undefined')?'<br '+'/>':'<br>';return(str+'').replace(/(\r\n|\n\r|\r|\n)/g,break_tag+'$1')}
function salesdeskSendDataTimeTracking(){if(salesdeskCheckBusinessPermission()!==!0){return!1}
if(salesdesk_widget_options.is_preview===undefined||salesdesk_widget_options.is_preview==!1){if(salesdesk_widget_time_counter){clearTimeout(salesdesk_widget_time_counter)}
var time_secound=parseInt(salesdeskGetTimeSeconds());if(time_secound>30){var sdwc=salesdeskGetCookie('__sdwc');if(typeof sdwc=='undefined'||!sdwc||sdwc==''){sdwc=salesdeskUUID()}
var params={"business_id":salesdesk_widget_options.business.business_id,"gclid":salesdesk_widget_client_params.gclid,"channel":"time_spent","visitor_device":salesdesk_device.is_mobile()?"mobile":"desktop","event_action":"action","website_url":salesdesk_widget_client_params.website_url,"referrer_url":salesdesk_widget_client_params.referrer_url,"uuid":sdwc,"time_spent":time_secound,"utm_source":salesdesk_widget_client_params.utm_source,"utm_medium":salesdesk_widget_client_params.utm_medium,"utm_campaign":salesdesk_widget_client_params.utm_campaign};jQuerySalesDesk.ajax({type:'POST',url:salesdesk_widget_url+"/v1/widget/event",data:{data:salesdeskJsonStringify(params)},global:!1,success:function(res){}})}}}
function saledeskWidgetSetTimeout(){salesdesk_widget_timeout=setTimeout(function(){salesdeskSendDataTimeTracking();salesdeskSetSessionStorage("salesdesk_widget_time_counter",1)},salesdesk_widget_timeout_value)}
function saledeskWidgetClearTimeout(){if(salesdesk_widget_timeout)clearTimeout(salesdesk_widget_timeout);saledeskWidgetSetTimeout()}
function salesdeskWidgetTimeCounter(){if(salesdesk_widget_time_counter)clearTimeout(salesdesk_widget_time_counter);salesdesk_widget_time_counter=setTimeout(function(){var counter=parseInt(salesdeskGetTimeSeconds()+1);salesdeskSetSessionStorage("salesdesk_widget_time_counter",counter);salesdeskWidgetTimeCounter()},1000)}
function salesdeskWidgetInitTimeTracking(){if(!salesdesk_device.is_mobile()){if(typeof document.hidden!=="undefined"){hidden="hidden";visibility_change="visibilitychange"}else if(typeof document.msHidden!=="undefined"){hidden="msHidden";visibility_change="msvisibilitychange"}else if(typeof document.webkitHidden!=="undefined"){hidden="webkitHidden";visibility_change="webkitvisibilitychange"}
if(typeof document.addEventListener!=="undefined"||typeof document[hidden]!=="undefined"){document.addEventListener(visibility_change,function(){if(!document[hidden]){salesdeskSetSessionStorage("salesdesk_widget_time_counter",1)}else{salesdeskSendDataTimeTracking()}},!1)}
jQuerySalesDesk(document).mousemove(function(){saledeskWidgetClearTimeout()})}else{jQuerySalesDesk(document).bind("touchmove",function(e){saledeskWidgetClearTimeout()})}
salesdeskWidgetTimeCounter();saledeskWidgetSetTimeout()}
function salesdeskGetTimeSeconds(){try{var salesdesk_widget_time_counter=salesdeskGetSessionStorage('salesdesk_widget_time_counter');return(salesdesk_widget_time_counter===null)?1:parseInt(salesdesk_widget_time_counter)}catch(err){return 1}}
function salesdeskConvertStringToBoolean($value){if($value===!0||$value=='true'){return!0}else{return!1}}
function gotoWidgetLandingPage(type){if(type=='promotion_popup'){window.open(widget_server_url+"/api/redirect/poweredby/"+salesdesk_widget_options.business.business_id+"?domain="+window.location.hostname+"&content=promotion_popup")}else{window.open(widget_server_url+"/api/redirect/poweredby/"+salesdesk_widget_options.business.business_id+"?domain="+window.location.hostname+"&content=widget")}}
function salesdeskBlockNotificationPermission(){var today=new Date();var expiry=new Date(today.getTime()+24*60*60*1000);salesdeskSetCookie('salesdesk_user_block_notification_permission',"Y",expiry,"/");salesdeskCloseAllowNotificationPermissionPopup()}
function salesdeskShowAllowNotificationPermission(){Notification.requestPermission().then(function(result){if(result==='denied'||result==='default'){return}
salesdeskNotification()});salesdeskCloseAllowNotificationPermissionPopup()}
function salesdeskRequestPermissionForNotification(){try{navigator.permissions.query({name:'push',userVisibleOnly:!0}).then(function(result){if(result.state=='granted'){salesdeskNotification()}else if(result.state=='prompt'){salesdeskOpenAllowNotificationPermissionPopup()}})}catch(err){salesdeskOpenAllowNotificationPermissionPopup()}}
function salesdeskNotification(){jQuerySalesDesk.getScript("https://www.gstatic.com/firebasejs/5.5.5/firebase-app.js",function(data,textStatus,jqxhr){jQuerySalesDesk.getScript("https://www.gstatic.com/firebasejs/5.5.5/firebase-messaging.js",function(data,textStatus,jqxhr){var config={apiKey:"AIzaSyAkHlduIPQLqaSaLRt0vT0LJqdjHjCuVPI",authDomain:"salesdesk-notify.firebaseapp.com",databaseURL:"https://salesdesk-notify.firebaseio.com",projectId:"salesdesk-notify",storageBucket:"salesdesk-notify.appspot.com",messagingSenderId:"776255330466"};firebase.initializeApp(config);const messaging=firebase.messaging();messaging.requestPermission().then(function(){return messaging.getToken()}).then(function(token){}).catch(function(err){});messaging.onMessage(function(payload){var data=payload||{};if(window.Notification&&Notification.permission!=="denied"){Notification.requestPermission(function(status){var noti=new Notification(data.notification.title,{body:data.notification.body,icon:data.notification.icon});noti.onclick=function(event){event.preventDefault();noti.close();window.open(data.notification.click_action,'_blank')}})}})})})}
function getSalesDeskContactCodePopupStylePosition(widget_position,channel){var default_style_left_position=['top-left','middle-left','bottom-left'];var default_style_right_position=['top-right','middle-right','bottom-right','top-center','bottom-center'];if(channel!='zalo'&&channel!='skype'){if(jQuerySalesDesk.inArray(widget_position,default_style_left_position)!=-1){return{"popup_style":"opacity:0;top:50%;margin-top: -90px;right:calc(50% - 400px);","border_style":""}}else if(jQuerySalesDesk.inArray(widget_position,default_style_right_position)!=-1){return{"popup_style":"opacity:0;top:50%;margin-top: -90px;left:calc(50% - 400px);","border_style":""}}}else{if(channel=="zalo"){return{"popup_style":"opacity:0;bottom: 140px; right: 400px; margin-top: -90px;","border_style":""}}else if(channel=="skype"){return{"popup_style":"opacity:0;bottom: 220px; right: 400px; margin-top: -90px;","border_style":""}}
return{"popup_style":"opacity:0;top:50%;margin-top: -90px;left:calc(50% - 400px);","border_style":""}}}
function ShowNotiRchat(number,position){if(Number(number)==0||isNaN(Number(number))){number=""}
if(position=='icon-widget'){jQuerySalesDesk("#id_widget_has_noti_main").text(number)}else{jQuerySalesDesk("#id_widget_has_noti_r_chat").text(number)}}
function getSourceData(channel){var source_data={"salesdesk-cid":"","salesdesk-ua":"","salesdesk-gclid":salesdesk_widget_client_params.gclid,"traffic_source":"","current_url":salesdesk_widget_client_params.website_url,"referer_url":salesdesk_widget_client_params.referrer_url,"google_ads_campaign":"","google_ads_search_keyword":"","widget_action":channel,"user_agent":navigator.userAgent,"screen_resolution":screen.width+"x"+screen.height,"ip_address":"","country":"","city":"","time_spent":rwidgetGetTimeSpent(),"utm":{"source":salesdesk_widget_client_params.utm_source,"medium":salesdesk_widget_client_params.utm_medium,"campaign":salesdesk_widget_client_params.utm_campaign}}
return source_data}
function rwidgetGetTimeSpent(){var endDateTime=new Date();var spentTimeOnLoadedPage=parseInt((endDateTime-startDateTime)/1000);return spentTimeOnLoadedPage}
function renderPromotionPopup(){if(salesdesk_widget_options.promotion_popup_powered_by=="yes"){var style='border-radius: 5px 5px 0px 5px;';var style_mobile='border-radius: 5px 5px 0px 0px;';var contentPoweredBy='<div class="promotion-popup-free-plan-box" style="display: block; border-radius: 0 0 5px 5px; background-color: rgba(0, 0, 0, 0.5);" onclick="gotoWidgetLandingPage(\'promotion_popup\')">'+'<span class="salesdesk_widget_name">'+sdw_promotion_popup_invite_text[salesdesk_widget_options.language]+'</span>'+'</div>'}else{contentPoweredBy='';var style="border-radius: 5px 5px 5px 5px;";var style_mobile="border-radius: 5px 5px 5px 5px;"}
var start_date=Date.parse(salesdesk_widget_options.promotion_popup.start_date);var end_date=Date.parse(salesdesk_widget_options.promotion_popup.end_date);var current_date=new Date();var year=current_date.getFullYear();var month=current_date.getMonth()+1;var date=current_date.getDate();if(month<=9){month="0"+month}
if(date<=9){date="0"+date}
current_date=Date.parse(year+"-"+month+"-"+date);if(start_date<=current_date&&current_date<=end_date){genUniqUser()
var container_div=document.createElement("div");container_div.setAttribute("id","rwidget-promotion-popup-container");container_div.setAttribute("class","rwidget-promotion-popup-container");container_div.setAttribute("style","display:none");if(salesdesk_widget_options.promotion_popup.layout_no==1){container_div.innerHTML='<style>'+'.rwidget-promotion-popup-container-desktop-image{'+'   background-image: url('+widget_server_url+''+salesdesk_widget_options.promotion_popup.desktop_image+');'+'    background-position: center;'+'    background-repeat: no-repeat;'+'    cursor:pointer;'+style+'}'+'.rwidget-promotion-popup-container-close {'+'    background-color: '+salesdesk_widget_options.promotion_popup.close_color+'!important;'+'}'+'.rwidget-promotion-popup-container {'+'   background-color: '+salesdesk_widget_options.promotion_popup.overlay_color+'!important;'+'}'+'.rwidget-promotion-popup-container-desktop{'+'    background-color: '+salesdesk_widget_options.promotion_popup.frame_color+'!important;'+'}'+'.rwidget-promotion-popup-container-desktop{'+style+'}'+'@media only screen and (max-width: 400px) {'+'.rwidget-promotion-popup-container-desktop-image{'+'  background-image: url('+widget_server_url+''+salesdesk_widget_options.promotion_popup.mobile_image+');'+style_mobile+'  }'+'.rwidget-promotion-popup-container-desktop{'+style_mobile+'}'+'}'+'</style>'+'<div id="rwidget-promotion-popup-container-desktop" class="rwidget-promotion-popup-container-desktop" style="display:none;">'+'<div class="rwidget-promotion-popup-container-close" onclick="rwidgetClosePromotionPopup()">'+'<div class="rwidget-promotion-popup-container-close-icon"></div>'+'</div>'+'<a onclick="rwidgetPromotionPopupAction()">'+' <div class="rwidget-promotion-popup-container-desktop-image"></div>'+'</a>'+contentPoweredBy+'</div>'}else if(salesdesk_widget_options.promotion_popup.layout_no==2){container_div.innerHTML='<style>'+'.content-promotion a { '+'        text-decoration: none;'+'        color: unset;'+'}'+'.content-promotion a:hover {'+'    text-decoration: none;'+'color: unset;'+'}'+'.rwidget-promotion-popup-container {'+'    background-color: '+salesdesk_widget_options.promotion_popup.overlay_color+'!important;'+style+'}'+'.rwidget-promotion-popup-container-desktop-image{'+'background-image: url('+widget_server_url+''+salesdesk_widget_options.promotion_popup.desktop_image+');'+'background-position: center;'+'background-repeat: no-repeat;'+'}'+'.rwidget-promotion-popup-container-close {'+'background-color: '+salesdesk_widget_options.promotion_popup.close_color+'!important;'+'}'+'.rwidget-promotion-popup-button{'+'background-color: '+salesdesk_widget_options.promotion_popup.button_bg_color+'!important;'+'color: '+salesdesk_widget_options.promotion_popup.button_text_color+'!important;'+'}'+'.content-promotion {'+'padding: 0px;'+'height: 400px;'+'background-color: '+salesdesk_widget_options.promotion_popup.frame_color+';'+'box-sizing: border-box;'+style+'}'+'.content-promotion-image {'+'height: 260px;'+'padding-bottom: 10px;'+'box-sizing: border-box;'+'}'+'.content-promotion-text {'+'height:65px;'+'overflow:hidden;'+'box-sizing:border-box;'+'}'+'.content-promotion-text p {'+'margin: 0;'+'}'+'.content-promotion-button {'+'height:auto;'+'text-align: '+salesdesk_widget_options.promotion_popup.button_position+';'+'width:100%;'+'padding-top:2px;'+'overflow:hidden;'+'}'+'.content-promotion-button button {'+'border-radius:0px;'+'min-width:150px;'+'padding:10px;'+'}'+'.rwidget-promotion-popup-container-desktop{'+style+'}'+'.mobile-content {'+'padding:10px;'+'box-sizing:border-box'+'}'+'@media only screen and (max-width: 660px) {'+'.mobile-content {'+'overflow: auto;'+'height: 330px;'+'}'+'#promotion_popup_text {'+'height:auto'+'}'+'.content-promotion-button {'+'margin-top:15px'+'}'+'}'+'@media only screen and (max-width: 400px) {'+'.rwidget-promotion-popup-container-desktop {'+'width:90%;'+'}'+'.rwidget-promotion-popup-container-desktop-image{'+'background-image: url('+widget_server_url+''+salesdesk_widget_options.promotion_popup.mobile_image+');'+'}'+'.content-promotion-image {'+'height:250px;'+'width: 100%;'+'padding-bottom:5px;'+'box-sizing:border-box;'+'}'+'.rwidget-promotion-popup-image{'+'height: 250px;'+'width: 100%;'+'box-sizing: border-box;'+'padding-bottom:  5px;'+'}'+'#promotion_popup_text{'+'height: auto;'+'}'+'#promotion_popup_text > p{'+'margin:0px'+'}'+'.promotion_popup_button {'+'height:90px;'+'padding:0px;'+'margin-top:5px;'+'text-align:'+salesdesk_widget_options.promotion_popup.button_position+';'+'}'+'.rwidget-promotion-popup-container {'+style_mobile+'}'+'.content-promotion {'+style_mobile+'padding-top:10px;'+'}'+'.rwidget-promotion-popup-container-desktop{'+style_mobile+'}'+'.content-promotion-button {'+'padding-top: 9px;'+'margin-top: 0;'+'}'+'.mobile-content {'+'overflow: auto;'+'height: 330px;'+'padding: 0px 10px 10px 10px;'+'box-sizing:border-box'+'}'+'}'+'</style>'+'<div class="rwidget-promotion-popup-container-desktop" id="rwidget-promotion-popup-container-desktop" >'+'<div class="rwidget-promotion-popup-container-close" onclick="rwidgetClosePromotionPopup()">'+'<div class="rwidget-promotion-popup-container-close-icon"></div>'+'</div>'+contentPoweredBy+'<div class="content-promotion">'+'<a onclick="rwidgetPromotionPopupAction()">'+'<div class="mobile-content">'+'<div class="content-promotion-image">'+'<div class="rwidget-promotion-popup-container-desktop-image"></div>'+'</div>'+'<div class="content-promotion-text" id="promotion_popup_text">'+salesdesk_widget_options.promotion_popup.text+'</div>'+'</div>'+'<div class="content-promotion-button">'+'<button onclick="rwidgetPromotionPopupAction()" class="rwidget-promotion-popup-button">'+salesdesk_widget_options.promotion_popup.button_text+'</button>'+'</div>'+'</a>'+'<div>'+'</div>'}else if(salesdesk_widget_options.promotion_popup.layout_no==3){container_div.innerHTML='<style>'+'.rwidget-promotion-popup-container-desktop a { '+'    text-decoration: none;'+'    color: unset;'+'}'+'.rwidget-promotion-popup-container-desktop a:hover {'+'text-decoration: none;'+'color: unset;'+'}'+'.rwidget-promotion-popup-container {'+'background-color: '+salesdesk_widget_options.promotion_popup.overlay_color+'!important;'+'}'+'.rwidget-promotion-popup-container-desktop-image{'+'background-image: url('+widget_server_url+''+salesdesk_widget_options.promotion_popup.desktop_image+');'+'background-position: center;'+'background-repeat: no-repeat'+'}'+'.rwidget-promotion-popup-container-close {'+'background-color: '+salesdesk_widget_options.promotion_popup.close_color+'!important;'+'}'+'.rwidget-promotion-popup-button{'+'background-color: '+salesdesk_widget_options.promotion_popup.button_bg_color+'!important;'+'color: '+salesdesk_widget_options.promotion_popup.button_text_color+'!important;'+'}'+'.rwidget-promotion-popup-image-left{'+'height:100%;'+'width:250px;'+'float:left;'+'box-sizing: border-box;'+'}'+'.rwidget-promotion_popup-rightside{'+'height:380px;'+'width:325px;'+'float:right;'+'padding:0px;'+'box-sizing: border-box;'+'}'+'.rwidget-promotion_popup-rightside p {'+'line-height: 1.4;'+'}'+'#promotion_popup_text {'+'overflow: hidden;'+'height: 300px;'+'padding: 0 10px;'+'}'+'#promotion_popup_text p {'+'margin:0'+'}'+'.promotion_popup_body {'+'border-radius:5px;'+'height:100%;'+'width:100%;'+'background-color:'+salesdesk_widget_options.promotion_popup.frame_color+';'+style+'}'+'.promotion_popup_button {'+'height:90px;'+'padding:20px;'+'text-align:'+salesdesk_widget_options.promotion_popup.button_position+';'+'}'+'.rwidget-promotion-popup-container-desktop{'+style+'}'+'.scrollbar-content {'+'height:100%;'+'width:100%;'+'padding:10px;'+'box-sizing:border-box'+'}'+'.for-desktop {'+'display: block;'+'}'+'.for-mobile {'+'display: none;'+'}'+'@media only screen and (max-width: 660px) {'+'.rwidget-promotion-popup-image-left{'+'width:40%;'+'}'+'.rwidget-promotion_popup-rightside{'+'width:60%;'+'}'+'#promotion_popup_text {'+'overflow-y: auto'+'}'+'}'+'@media only screen and (max-width: 400px) {'+'.rwidget-promotion-popup-container-desktop {'+'width:90%;'+'}'+'.rwidget-promotion-popup-container-desktop-image{'+'background-image: url('+widget_server_url+''+salesdesk_widget_options.promotion_popup.mobile_image+');'+'}'+'.rwidget-promotion-popup-image-left{'+'height:250px;'+'width:100%;'+'box-sizing:border-box;'+'padding-bottom:5px;'+'}'+'#promotion_popup_text{'+'height:auto;'+'padding:0;'+'}'+'#promotion_popup_text > p{'+'margin:0px'+'}'+'.rwidget-promotion_popup-rightside{'+'height:auto;'+'width:100%;'+'padding:0;'+'box-sizing:border-box;'+'}'+'.promotion_popup_button {'+'height:90px;'+'padding:0px;'+'margin-top:5px;'+'text-align:'+salesdesk_widget_options.promotion_popup.button_position+';'+'}'+'.promotion_popup_body {'+style_mobile+'padding-top:10px;'+'}'+'.rwidget-promotion-popup-container-desktop{'+style_mobile+'}'+'.scrollbar-content {'+'height:330px;'+'width:100%;'+'padding: 0px 10px 10px 10px;'+'overflow:auto;'+'box-sizing:border-box'+'}'+'.promotion_popup_button.for-mobile {'+'padding: 7px 10px;'+'height:auto;'+'margin:0;'+'}'+'.for-desktop {'+'display: none;'+'}'+'.for-mobile {'+'display: block;'+'}'+'}'+'</style>'+'<div class="rwidget-promotion-popup-container-desktop" id="rwidget-promotion-popup-container-desktop">'+'<div class="rwidget-promotion-popup-container-close" onclick="rwidgetClosePromotionPopup()">'+'<div class="rwidget-promotion-popup-container-close-icon"></div>'+'</div>'+'<div class="promotion_popup_body">'+'<a onclick="rwidgetPromotionPopupAction()">'+'<div class="scrollbar-content">'+'<div class="rwidget-promotion-popup-image-left">'+'<div class="rwidget-promotion-popup-container-desktop-image"></div>'+'</div>'+'<div class="rwidget-promotion_popup-rightside">'+'<div id="promotion_popup_text">'+salesdesk_widget_options.promotion_popup.text+'</div>'+'<div class="promotion_popup_button for-desktop">'+'<button onclick="rwidgetPromotionPopupAction()" class="rwidget-promotion-popup-button" style="width:100%;">'+salesdesk_widget_options.promotion_popup.button_text+'</button>'+'</div>'+'</div>'+'</div>'+'<div class="promotion_popup_button for-mobile">'+'<button onclick="rwidgetPromotionPopupAction()" class="rwidget-promotion-popup-button" style="width:100%;">'+salesdesk_widget_options.promotion_popup.button_text+'</button>'+'</div>'+'</a>'+contentPoweredBy+'<div>'+'</div>'}
document.body.appendChild(container_div);if(salesdesk_widget_options.promotion_popup.timing_type=="immediately"){document.getElementById("rwidget-promotion-popup-container").style.display='block'
document.getElementById("rwidget-promotion-popup-container-desktop").style.display='block'
salesdeskSaveAction('promotion_popup','view')}else if(salesdesk_widget_options.promotion_popup.timing_type=="after_time"){setTimeout(function(){document.getElementById("rwidget-promotion-popup-container").style.display='block'
document.getElementById("rwidget-promotion-popup-container-desktop").style.display='block'
salesdeskSaveAction('promotion_popup','view')},salesdesk_widget_options.promotion_popup.time*1000)}else if(salesdesk_widget_options.promotion_popup.timing_type=="middle_page"){var documentHeight=jQuerySalesDesk(document).height();var windowHeight=jQuerySalesDesk(window).height();if(documentHeight==windowHeight){setTimeout(function(){document.getElementById("rwidget-promotion-popup-container").style.display='block'
document.getElementById("rwidget-promotion-popup-container-desktop").style.display='block'
salesdeskSaveAction('promotion_popup','view')},5000)}else{window.onscroll=function(ev){var centerOfFrame=window.scrollY+(windowHeight/2);var centerOfPage=documentHeight/2;if((centerOfFrame>=centerOfPage)&&!is_promotion_popup_showed){is_promotion_popup_showed=!0;document.getElementById("rwidget-promotion-popup-container").style.display='block'
document.getElementById("rwidget-promotion-popup-container-desktop").style.display='block'
salesdeskSaveAction('promotion_popup','view')}}}}}}
var timeExpireTarget=6*60*60*1000;function rwidgetClosePromotionPopup(){if(salesdesk_widget_options.is_preview!=!0){var promotion_popup_cookie_session_today=new Date();var promotion_popup_cookie_session_expire=new Date(promotion_popup_cookie_session_today.getTime()+timeExpireTarget);salesdeskSetCookie('rwidget_promotion_popup_action',salesdesk_widget_options.business.business_id+""+salesdesk_widget_options.promotion_popup.token,0,"/");salesdeskSetCookie('rwidget_promotion_popup_action_comparator',salesdesk_widget_options.business.business_id+""+salesdesk_widget_options.promotion_popup.token,promotion_popup_cookie_session_expire,"/")}
var dom=document.getElementById("rwidget-promotion-popup-container")
dom.parentNode.removeChild(dom)}
function rwidgetPromotionPopupAction(){if(salesdesk_widget_options.promotion_popup.action_type=="webpage"){rwidgetClosePromotionPopup();salesdeskSaveAction('promotion_popup','action');salesdeskOpenExternalLink(salesdesk_widget_options.promotion_popup.web_page_url)}else if(salesdesk_widget_options.promotion_popup.action_type=="rwidget"){rwidgetClosePromotionPopup();salesdeskSaveAction('promotion_popup','action');if(salesdesk_widget_options.business.show_widget){salesdeskWidget()}}else{rwidgetClosePromotionPopup();salesdeskSaveAction('promotion_popup','action')}}
function genUniqUser(){var token=salesdeskGetCookie('rwidget_user_id');if(token!=""&&token!==undefined&&token!=null){if(token.slice(0,5)!=salesdesk_widget_options.promotion_popup.token){salesdesk_widget_options.new_user=!0}else{salesdesk_widget_options.new_user=!1}}
if(salesdesk_widget_options.new_user){var cookie_date=new Date;cookie_date.setFullYear(cookie_date.getFullYear()+1);var new_token=salesdesk_widget_options.promotion_popup.token+Math.random().toString(16).substring(2,15)+Math.random().toString(16).substring(2,15)+'0';salesdeskSetCookie('rwidget_user_id',new_token,cookie_date,'/')}}